{"version":3,"sources":["assets/logo.PNG","reducers/ui.js","reducers/contacts.js","reducers/index.js","reducers/dialogs.js","reducers/chats.js","reducers/messages.js","reducers/users.js","reducers/forwardMessage.js","reducers/auth.js","reducers/node.js","reducers/search.js","actions/dialogs.js","actions/user.js","transport/Connect.js","components/Auth.js","components/Registration.js","components/Verify.js","selectors/index.js","selectors/Message.js","selectors/Dialog.js","selectors/User.js","components/SidebarItem.js","actions/ui.js","components/HeadSidebar.js","components/Search.js","actions/search.js","components/Sidebar.js","components/HeadDialog.js","assets/tick_icon.svg","assets/double_tick_icon.svg","components/Message.js","assets/paperclip_icon.svg","assets/send_button_icon.svg","components/NewMessageField.js","components/Dialog.js","components/DialogContainer.js","components/ProfileModal.js","transport/Request.js","components/CreateChatModal.js","components/Avatar.js","components/ContactsModal.js","components/ContactsGroupsModal.js","components/SettingsModal.js","components/MainContainer.js","actions/auth.js","transport/Socket.js","actions/contacts.js","App.js","actions/node.js","serviceWorker.js","index.js","store/configureStore.js"],"names":["module","exports","__webpack_require__","p","defaultState","profile","search","showDrawer","modals","createChatModal","contactsModal","contactsGroupsModal","settingsModal","usersIDs","groups","combineReducers","dialogs","state","arguments","length","undefined","action","type","newState","Object","toConsumableArray","activeDialog","find","dialog","active","forEach","ConversationId","messagesRecieved","payload","data","UnreadedCount","SecondUid","Id","fakeDialog","Title","NameFirst","NameSecond","Photo","ConversationType","fake","push","console","log","messages","conversationId","PreviewText","Text","chats","chatsUsers","ChatId","Users","message","mess","GlobalId","sort","a","b","a_date","Date","SendingTime","b_date","messageIDs","read","users","user","concat","contacts","objectSpread2","forwardMessage","auth","node","ui","text","name","searchResult","dialogsReceived","messagesReceived","forwardingMessage","openDialog","userReceived","JSON","parse","localStorage","getItem","nodeDomain","webSocket","Domains","WebSocket","wSocket","Connect","_this","this","classCallCheck","onopen","wsOnConnect","onclose","event","wasClean","onmessage","blobToJson","ErrorCode","onMessage","onerror","error","readyState","u","x","URL","createObjectURL","XMLHttpRequest","open","send","revokeObjectURL","responseText","result","charactersLength","i","charAt","Math","floor","random","parseInt","stringify","licens","Auth","possibleConstructorReturn","getPrototypeOf","call","nodes","activeNode","thiss","getNodesObj","RequestId","socket","makeId","RequestType","Type","response","ResponseType","setState","Nodes","setItem","item","props","menu","react_default","createElement","es_menu","onClick","selectNode","bind","map","Item","key","Name","row","align","justify","style","height","col","className","react_router_dom","to","match","url","es_button","dropdown","overlay","icon","Component","Registration","_useState","useState","_useState2","slicedToArray","setName","_useState3","_useState4","surname","setSurname","_useState5","_useState6","phone","setPhone","_useState7","_useState8","email","setEmail","_useState9","_useState10","nameErr","setNameErr","_useState11","_useState12","contactsErr","setContactsErr","_useState13","_useState14","btnLoader","setbtnLoader","_useState15","_useState16","setActiveNode","useEffect","FileAccessToken","Token","AccessToken","RefreshToken","User","window","location","replace","es_form","validateStatus","help","input","placeholder","onChange","e","target","value","textAlign","regData","Phones","About","Country","City","Birthday","Language","NodeId","Online","Emails","Blacklist","Visible","Security","Tag","RegistrationDate","loading","Verify","verifyUid","verifyErr","verifyRequestSended","verifyCode","verifyCodeErr","btnPreloader","verifyType","_this2","path","pathname","split","Message","preventDefault","Uid","VCode","LoginType","UidType","VerificationType","onSubmit","sendverifyCode","onChangeVerifCode","htmlType","disabled","sendVerificationQuery","onChangePhone","selectors","getFormatedMessages","tempMess","Attachments","Read","SenderId","getFormatedDialogs","tempDialogs","AttachmentType","IsMuted","LastMessageId","LastMessageSenderId","LastMessageSenderName","LastMessageTime","getFormatedChats","chat","tempChat","Key","NodesId","Public","getFormatedChatsUsers","tempUser","Banned","Deleted","InviterId","Joined","UserId","UserInfo","UserRole","getFormatedUser","BlackList","Confirmed","Contact","ContactsPrivacy","Encryption","Groups","Keys","getUserById","id","getUserInitials","initials","ChannelName","defaultAva","substr","getActiveDialog","SidebarItem","newsContent","refs","messageText","newsText","innerText","slice","avatarStyle","width","backgroundSize","backgroundPosition","backgroundImage","backgroundRepeat","ref","connect","dispatch","dialogId","openProfile","toggleModal","toggleDrawer","src","logo","alt","Search","Input","searchStart","searchEnd","searchDialogs","toLowerCase","searchRequest","SearchQuery","Direction","onSearch","enterButton","localFoundDialogs","setLocalFoundDialogs","filter","indexOf","components_HeadSidebar","components_Search","components_SidebarItem","showSearchResultUsers","showSearchResultChats","channels","showSearchResultChannels","JavascriptTimeAgo","locale","ru","closeDialog","setDialog","setDefaultAva","setUser","document","body","clientWidth","windowWidth","setWindowWidth","onresize","ReactTimeAgo","date","logout","Full","removeItem","_extends","assign","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","points","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","tick_icon_SvgTickIcon","_ref","svgRef","y","viewBox","enableBackground","xmlSpace","ForwardRef","forwardRef","double_tick_icon_extends","double_tick_icon_objectWithoutProperties","double_tick_icon_objectWithoutPropertiesLoose","double_tick_icon_ref2","d","double_tick_icon_ref3","double_tick_icon_ref4","double_tick_icon_ref5","double_tick_icon_ref6","double_tick_icon_ref7","double_tick_icon_ref8","double_tick_icon_ref9","double_tick_icon_ref10","double_tick_icon_ref11","double_tick_icon_ref12","double_tick_icon_ref13","double_tick_icon_ref14","double_tick_icon_ref15","double_tick_icon_ref16","double_tick_icon_ref17","double_tick_icon_SvgDoubleTickIcon","double_tick_icon_ForwardRef","visible","setVisible","messageTime","setMessageTime","isContextMenuVisible","setSsContextMenuVisible","redirect","setRedirect","timestamp","setTime","hour","getHours","minutes","getMinutes","alignSelf","flexShrink","borderRadius","react_router","currentUser","background","Payload","FileId","href","download","Filename","userId","forwardingUser","getForwardingUser","showMessage","modal","onCancel","footer","maskClosable","paperclip_icon_extends","paperclip_icon_objectWithoutProperties","paperclip_icon_objectWithoutPropertiesLoose","paperclip_icon_ref2","transform","paperclip_icon_SvgPaperclipIcon","paperclip_icon_ForwardRef","send_button_icon_extends","send_button_icon_objectWithoutProperties","send_button_icon_objectWithoutPropertiesLoose","send_button_icon_ref2","send_button_icon_ref3","send_button_icon_ref4","send_button_icon_ref5","send_button_icon_ref6","send_button_icon_ref7","send_button_icon_ref8","send_button_icon_ref9","send_button_icon_ref10","send_button_icon_ref11","send_button_icon_ref12","send_button_icon_ref13","send_button_icon_ref14","send_button_icon_ref15","send_button_icon_ref16","send_button_icon_ref17","send_button_icon_SvgSendButtonIcon","send_button_icon_ForwardRef","setMessageText","imgLoading","setImgLoading","imageUrl","setImageUrl","attachmentsType","setAttachmentsType","sendMessage","Messages","ReceiverId","ReplyTo","MessagesGlobalId","Hash","MessageId","upload","showUploadList","customRequest","file","fileAccessToken","axios","defaults","headers","formData","FormData","append","post","then","res","status","File","catch","err","handleUploadImage","beforeUpload","isJpgOrPng","info","onKeyDown","keyCode","setMessages","mesViewport","useRef","MessagesId","ChannelId","setTimeout","current","scrollTop","uniqueUsers","Set","n","requestUsers","UsersId","getUsers","onDragOver","classList","add","fileOver","onDragLeave","remove","fileLeave","onDrop","dataTransfer","files","attachmentType","fileDrop","components_Message","size","ChannelsId","components_NewMessageField","NavigationMessageTime","components_HeadDialog","components_Dialog","setProfile","prevProfile","setPrevProfile","getChatInfo","ChatsId","undefinedUsers","handleCancelProfile","margin","FullNumber","foundUser","marginTop","request","Request","getDialogs","getUserContacts","usersIds","groupId","GroupId","requestdData","Chats","chatName","setChatName","nameError","setNameError","chatPrivate","setChatPrivate","chatChannel","setChatChannel","setLoading","title","listType","isLt2M","Fragment","fontSize","color","divider","es_switch","checked","block","contactsIDs","setContacts","TabPane","Tabs","getUserGroups","contactsTmp","showContacts","contact","handleOpenChat","components_Avatar","tabs","defaultActiveKey","getGroupContacts","tab","group","groupOpen","setGroupOpen","creatingGroup","setCreatingGroup","setUsersListVisible","openGroup","openedGroup","defaultValue","lastName","setLastName","about","setAbout","uploadButton","addonBefore","SubscriberNumber","userData","editUser","handleUpdateUser","addEventListener","drawer","placement","closable","onClose","components_Sidebar","components_DialogContainer","components_ProfileModal","components_CreateChatModal","components_ContactsModal","components_ContactsGroupsModal","components_SettingsModal","setAuth","chatsReceived","chatsUsersReceived","readMessages","searchResultReceived","setContactUsersIDs","userGroupsReceived","getSelf","Conversations","Code","getChatsUsers","NavigationUserId","ChatUsers","Channels","userIDs","Contacts","ContactUserId","setNode","login","transport_Socket","render","spin","component","MainContainer","exact","Boolean","hostname","initialState","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","es","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.21d59275.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.024bbe57.PNG\";","/* eslint-disable */\nconst defaultState = {\n  profile: null,\n  search: false,\n  showDrawer: false,\n  modals: {\n    createChatModal: false,\n    contactsModal: false,\n    contactsGroupsModal: false,\n    settingsModal: false\n  }\n}\n\nexport function ui(state = defaultState, action) {\n  if(action.type === 'OPEN_PROFILE') {\n    let newState = {...state}\n    newState.profile = action.dialog\n    return newState\n  }\n  else if (action.type === 'SEARCH_START') {\n    let newState = {...state}\n    newState.search = action.text\n    return newState\n  }\n  else if (action.type === 'SEARCH_END') {\n    let newState = {...state}\n    newState.search = false\n    return newState\n  }\n  else if (action.type === 'TOGGLE_DRAWER') {\n    let newState = {...state}   \n    newState.showDrawer = !newState.showDrawer\n    return newState\n  }\n  else if (action.type === 'TOGGLE_MODAL') {\n    let newState = {...state}\n    if (action.name === \"close\") {\n      for (var name in newState.modals) {\n        newState.modals[name] = false\n    }\n    } else {\n      newState.modals[action.name] = !newState.modals[action.name]\n    }\n    return newState\n  }\n  else {\n    return state\n  }\n}\n","/* eslint-disable */\nconst defaultState = {\n  usersIDs: [],\n  groups: []\n}\n\nexport function contacts(state = defaultState, action) {\n  if(action.type === 'SET_CONTACT_USERS_IDS') {\n    let newState = {...state}\n    newState.usersIDs = action.usersIDs\n    return newState\n  }\n  else if (action.type === \"USER_GROUPS_RECEIVED\") {\n    let newState = {...state}\n    newState.groups = action.groups\n    return newState\n  }\n  else {\n    return state\n  }\n}\n","import { combineReducers } from \"redux\"\nimport { dialogs } from \"./dialogs\"\nimport { chats } from \"./chats\"\nimport { messages } from \"./messages\"\nimport { users } from \"./users\"\nimport { forwardMessage } from \"./forwardMessage\"\nimport { auth } from \"./auth\"\nimport { node } from \"./node\"\nimport { ui } from \"./ui\"\nimport { searchResult } from \"./search\"\nimport { contacts } from \"./contacts\"\n\nexport default combineReducers({\n  dialogs,\n  chats,\n  messages,\n  users,\n  contacts,\n  forwardMessage,\n  auth,\n  node,\n  ui,\n  searchResult\n})\n","/* eslint-disable */\nexport function dialogs(state = [], action) {\n   if (action.type === 'DIALOGS_RECEIVED') {\n      let newState = [...state]\n      let activeDialog = newState.find(dialog => dialog.active)\n      newState = action.dialogs\n      if (activeDialog) {\n         newState.forEach(dialog => {\n            if (dialog.ConversationId === activeDialog.ConversationId) {\n               dialog.active = true\n               dialog.messagesRecieved = activeDialog.messagesRecieved\n            }\n         })\n      }\n      return newState\n   }\n   else if(action.type === 'OPEN_DIALOG') {\n      let newState = [...state]\n      //  action.payload.data             \n      //     ,    \n      //             \n      if (action.payload.type === 'dialog') {\n         newState.forEach(function(dialog){\n            dialog.active = false\n   \n            if (dialog.ConversationId === action.payload.data.ConversationId) {\n               dialog.active = true\n               dialog.UnreadedCount = 0\n               dialog.type = action.payload.type\n            }\n         })\n      } else if (action.payload.type === 'user') {\n         let dialogWithUser = newState.find(dialog => dialog.SecondUid === action.payload.data.Id)\n         if (dialogWithUser) {\n            newState.forEach(dialog => {\n               dialog.active = false\n\n               if (dialog.SecondUid === action.payload.data.Id) {\n                  dialog.active = true\n                  dialog.UnreadedCount = 0\n                  dialog.type = 'dialog'\n               }\n            })\n         } else {\n            let fakeDialog = {}\n         \n            fakeDialog.ConversationId = action.payload.data.Id,\n            fakeDialog.Title = action.payload.data.NameFirst + ' ' + action.payload.data.NameSecond,\n            fakeDialog.Photo = action.payload.data.Photo,\n            fakeDialog.ConversationType = 1,\n            fakeDialog.SecondUid = action.payload.data.Id,\n            fakeDialog.fake = true\n   \n            newState.push(fakeDialog)\n   \n            newState.forEach(function(dialog){\n               dialog.active = false\n      \n               if (dialog.ConversationId === action.payload.data.Id) {\n                  dialog.active = true\n                  dialog.UnreadedCount = 0\n                  dialog.type = action.payload.type\n               }\n            })\n         }\n      } else if (action.payload.type === 'channel') {\n         newState.push(action.payload.data)\n\n         newState.forEach(function(dialog){\n            dialog.active = false\n   \n            if (dialog.ConversationId === action.payload.data.Id) {\n               dialog.active = true\n               dialog.UnreadedCount = 0\n               dialog.type = action.payload.type,\n               dialog.fake = true\n            }\n         })\n      } else if (action.payload.type === 'chat') {\n         let chat = newState.find(dialog => dialog.ConversationId === action.payload.data.Id)\n         if (chat) {\n            newState.forEach(dialog => {\n               dialog.active = false\n\n               if (dialog.ConversationId === action.payload.data.Id) {\n                  dialog.active = true\n                  dialog.UnreadedCount = 0\n                  dialog.type = 'chat'\n               }\n            })\n         } else {\n            let fakeDialog = {}\n         \n            fakeDialog.ConversationId = action.payload.data.Id,\n            fakeDialog.Title = action.payload.data.NameFirst + ' ' + action.payload.data.NameSecond,\n            fakeDialog.Photo = action.payload.data.Photo,\n            fakeDialog.ConversationType = 1,\n            fakeDialog.SecondUid = action.payload.data.Id,\n            fakeDialog.fake = true\n   \n            newState.push(fakeDialog)\n   \n            newState.forEach(function(dialog){\n               dialog.active = false\n      \n               if (dialog.ConversationId === action.payload.data.Id) {\n                  dialog.active = true\n                  dialog.UnreadedCount = 0\n                  dialog.type = action.payload.type\n               }\n            })\n         }\n      }\n\n      return newState\n   }\n   else if(action.type === 'CLOSE_DIALOG') {\n      console.log(action)\n      let newState = [...state]\n\n      newState.forEach(dialog => {\n         if (dialog.active) {\n            dialog.active = false\n         }\n      })\n\n      return newState\n   }\n   else if(action.type === 'MESSAGES_RECEIVED'){\n      let newState = [...state]\n\n      if (action.messages.length) {\n         let conversationId = action.messages[0].ConversationId\n         newState.forEach(dialog => {\n            if (dialog.ConversationId === conversationId) {\n               //             \n               dialog.messagesRecieved = true\n               //     \n               dialog.PreviewText = action.messages[0].Text\n               //    ,    \n               if(!dialog.active) {\n                  dialog.UnreadedCount += 1\n               }\n               //       \n               // let dialogIndex = newState.indexOf(dialog)\n               // newState.splice(dialogIndex, 1)\n               // newState.unshift(dialog)\n            }\n         })\n      }\n\n      return newState\n   }\n   else {\n      return state\n   }\n}\n","/* eslint-disable */\n//  chats     ,       \nexport function chats(state = [], action) {\nif (action.type === 'CHATS_RECEIVED') {\n    let newState = [...state];\n    newState = action.chats;\n    return newState;\n  }\n  else if (action.type === 'CHATS_USERS_RECEIVED') {\n    let newState = [...state];\n    if (newState[0].Id === action.chatsUsers[0].ChatId) {\n      newState[0].Users = action.chatsUsers;\n    }\n    return newState;\n  }\n  else {\n    return state;\n  }\n}\n","/* eslint-disable  */\n\nfunction sortMessages(messages) {\n  return messages.sort(function(a, b) {\n    let a_date = new Date(a.SendingTime)\n    let b_date = new Date(b.SendingTime)\n    if (a_date < b_date) {\n      return -1\n    } if (a_date > b_date) {\n      return 1\n    } else {\n      return 0\n    }\n  })\n}\n\nexport function messages(state = [], action) {\n  if (action.type === \"MESSAGES_RECEIVED\") {\n    let newState = [...state]\n    action.messages.forEach(message => {\n      let existence = newState.find(mess => mess.GlobalId === message.GlobalId)\n      if (!existence) {\n        newState.push(message)\n      }\n    })\n\n    return sortMessages(newState)\n  }\n  else if(action.type === \"READ_MESSAGES\") {\n    let newState = [...state]\n\n    newState.forEach(message => {\n      if (message.GlobalId === action.messageIDs[0].GlobalId) {\n        message.read = true\n      }\n    })\n\n    return newState\n  }\n  else {\n    return state\n  }\n}\n","/* eslint-disable */\nexport function users(state = [], action) {\n  if(action.type === 'USER_RECEIVED') {\n    let newState = state;\n    \n    if(action.users.length > 0) {\n      let foundUser = newState.find(user => user.Id === action.users[0].Id);\n\n      if (!foundUser) {\n        newState = [...newState, ...action.users];\n      }\n    }\n    \n    return newState;\n  } else {\n    return state;\n  }\n}\n","/* eslint-disable */\nexport function forwardMessage(state = false, action) {\n  if (action.type === \"FORWARD_MESSAGE\") {\n    let newState = state\n\n    newState = action.message\n\n    return newState\n  } else {\n    return state\n  }\n}\n","/* eslint-disable */\nexport function auth(state = \"CHECK_AUTH\", action) {\n  if(action.type === 'SET_AUTH') {\n    let newState = state\n    newState = action.auth\n    return newState\n  }\n  return state\n}\n","/* eslint-disable */\nexport function node(state = \"\", action) {\n  if(action.type === 'SET_NODE') {\n    let newState = state\n    newState = action.node\n    return newState\n  }\n  return state\n}\n","/* eslint-disable */\nexport function searchResult(state = null, action) {\n  if(action.type === 'SEARCH_RESULT_RECEIVED') {\n    let newState = {...state}\n    newState = action.searchResult\n    return newState\n  }\n  else if(action.type === 'SEARCH_END') {\n    let newState = {...state}\n    newState = null\n    return newState\n  }\n  else {\n    return state\n  }\n}\n","export function dialogsReceived(dialogs) {\n  return {\n    type: \"DIALOGS_RECEIVED\",\n    dialogs\n  }\n}\n\nexport function chatsReceived(chats) {\n  return {\n    type: \"CHATS_RECEIVED\",\n    chats\n  }\n}\n\nexport function messagesReceived(messages) {\n  return {\n    type: \"MESSAGES_RECEIVED\",\n    messages\n  }\n}\n\nexport function readMessages(messageIDs) {\n  return {\n    type: \"READ_MESSAGES\",\n    messageIDs\n  }\n}\n\nexport function forwardingMessage(message) {\n  return {\n    type: \"FORWARD_MESSAGE\",\n    message\n  }\n}\n\nexport function openDialog(payload) {\n  return {\n    type: \"OPEN_DIALOG\",\n    payload\n  }\n}\n\nexport function closeDialog() {\n  return {\n    type: \"CLOSE_DIALOG\"\n  }\n}\n","export function userReceived(users) {\n  return {\n    type: \"USER_RECEIVED\",\n    users\n  }\n}\n\nexport function chatsUsersReceived(chatsUsers) {\n  return {\n    type: \"CHATS_USERS_RECEIVED\",\n    chatsUsers\n  }\n}\n","/* eslint-disable */\nconst node = JSON.parse(localStorage.getItem(\"node\"))\nlet nodeDomain = null\nlet webSocket = null\nif (node) {\n  nodeDomain = `wss://${node.Domains[0]}:5000`\n}\n\nif (nodeDomain) {\n  webSocket = new WebSocket(nodeDomain)\n} else {\n  webSocket = new WebSocket(\"wss://testnode1-1.ymess.org:5000\")\n}\n\nclass Connect {\n  constructor() {\n    webSocket.onopen = () => {\n      console.log(\" \")\n      this.wsOnConnect()\n    }\n\n    webSocket.onclose = event => {\n      if (event.wasClean) {\n        console.log(\" \")\n      } else {\n        console.log(\" \")\n      }\n      console.log(\": \", event)\n    }\n\n    webSocket.onmessage = event => {\n      const message = this.blobToJson(event.data)\n\n      if (message.ErrorCode && message.ErrorCode !== 0) {\n        console.log('%c REQUEST ERR ',  'background: #ff4545; color: #bada55; padding: 3px', message)\n      } else {\n        this.onMessage(message)\n        console.log(\n          \"%c RESPONSE \",\n          \"background: #00ff00; color: #000; padding: 3px\",\n          this.blobToJson(event.data)\n        )\n      }\n    }\n    webSocket.onerror = error => {\n      console.log('%c ERROR CONNECT ',  'background: red; color: #bada55; padding: 3px', error);\n    }\n  }\n\n  getStatus(){\n    return webSocket.readyState\n  }\n\n  blobToJson(data) {\n    var u, x\n    u = URL.createObjectURL(data)\n    x = new XMLHttpRequest()\n    x.open(\"GET\", u, false)\n    x.send()\n    URL.revokeObjectURL(u)\n\n    return JSON.parse(x.responseText)\n  }\n\n  makeId() {\n    var result = \"\"\n    var characters = \"0123456789\"\n    var charactersLength = characters.length\n    for (var i = 0; i < 18; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n\n    return parseInt(result)\n  }\n\n  send(data) {\n    console.log(\n      \"%c REQUEST \",\n      \"background: #222; color: #bada55; padding: 3px\",\n      data\n    )\n    webSocket.send(JSON.stringify(data))\n  }\n\n  onMessage() {}\n\n  wsOnConnect() {}\n}\n\nconst wSocket = new Connect()\n\nexport default wSocket\n","import React, { Component } from \"react\"\nimport { Row, Col, Button, Menu, Dropdown, Icon } from \"antd\"\nimport { Link } from \"react-router-dom\"\nimport socket from \"../transport/Connect\"\nconst licens = new WebSocket(\"wss://testlic-1.ymess.org:5005\")\n\nclass Auth extends Component {\n  constructor() {\n    super()\n    this.state = {\n      nodes: [],\n      activeNode: null\n    }\n  }\n\n  componentDidMount() {\n    const thiss = this\n\n    licens.onopen = () => {\n      // console.log(\"   \")\n      const getNodesObj = {\n        RequestId: socket.makeId(),\n        RequestType: 1,\n        Type: 6\n      }\n\n      licens.send(JSON.stringify(getNodesObj))\n    }\n\n    licens.onmessage = event => {\n      const response = socket.blobToJson(event.data)\n      if (response.ResponseType === 2) {\n        thiss.setState({\n          nodes: response.Nodes\n        })\n        localStorage.setItem(\"nodes\", JSON.stringify(response.Nodes))\n        //         \"\"\n        if (!localStorage.getItem(\"node\")) {\n          localStorage.setItem(\"node\", JSON.stringify(response.Nodes[0]))\n        }\n      }\n    }\n  }\n\n  selectNode(node) {\n    this.setState({\n      activeNode: node.item.props.data\n    })\n    localStorage.setItem(\"node\", JSON.stringify(node.item.props.data))\n  }\n\n  render() {\n    const menu = (\n      <Menu onClick={this.selectNode.bind(this)}>\n        {this.state.nodes.map((node, i) => {\n          return (\n            <Menu.Item key={i} data={node}>\n              {node.Name}\n            </Menu.Item>\n          )\n        })}\n        {\n          // this.state.activeNode ? <Menu.Item key='auto' data={null}></Menu.Item> : null\n        }\n      </Menu>\n    )\n    return (\n      <Row\n        type=\"flex\"\n        align=\"middle\"\n        justify=\"center\"\n        style={{ height: \"100vh\" }}\n      >\n        <Col>\n          <div className=\"auth__type\">\n            <h1></h1>\n            <h2>  </h2>\n            <Link to={this.props.match.url + \"/by-phone\"}>\n              <Button type=\"secondary\">  </Button>\n            </Link>\n            <br />\n            <Link to={this.props.match.url + \"/by-email\"}>\n              <Button type=\"secondary\">  </Button>\n            </Link>\n            <br />\n            <Button type=\"secondary\"> </Button>\n            <br />\n            <br />\n            <Link to={\"/registration\"}></Link>\n            <br />\n            <div className=\"auth__type_server\">\n              <span>: </span>\n              <Dropdown overlay={menu}>\n                <span className=\"ant-dropdown-link\">\n                  {localStorage.getItem(\"node\")\n                    ? JSON.parse(localStorage.getItem(\"node\")).Name\n                    : \"\"}\n                  <Icon type=\"down\" />\n                </span>\n              </Dropdown>\n            </div>\n          </div>\n        </Col>\n      </Row>\n    )\n  }\n}\n\n// Auth.defaultProps = {\n//    img: 'https://223421.selcdn.ru/chatix-dev/assets/img/default_avatar.png'\n// }\n\nexport default Auth\n","import React, { useState, useEffect } from \"react\"\nimport { Row, Col, Button, Form, Input, Dropdown, Menu, Icon } from \"antd\"\n// import {BrowserRouter as Router, Redirect} from \"react-router-dom\";\nimport socket from \"../transport/Connect\"\n\nfunction Registration() {\n  const [name, setName] = useState(\"\")\n  const [surname, setSurname] = useState(\"\")\n  const [phone, setPhone] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [nameErr, setNameErr] = useState(false)\n  const [contactsErr, setContactsErr] = useState(false)\n  const [btnLoader, setbtnLoader] = useState(false)\n  const [activeNode, setActiveNode] = useState(null)\n\n  useEffect(() => {\n    socket.onMessage = data => {\n      if (data.ErrorCode !== 0) {\n        // console.log(data)\n      } else if (data.ResponseType === 6) {\n        localStorage.getItem(\"FileAccessToken\", data.FileAccessToken)\n        localStorage.getItem(\"AccessToken\", data.Token.AccessToken)\n        localStorage.getItem(\"RefreshToken\", data.Token.RefreshToken)\n        localStorage.getItem(\"User\", data.User)\n\n        window.location.replace(\"/\")\n      }\n    }\n\n    setActiveNode(JSON.parse(localStorage.getItem(\"node\")))\n  }, [])\n\n  const handleRegistration = () => {\n    if (name.length === 0) {\n      setNameErr(\"    \")\n    } else if (phone.length === 0 && email.length === 0) {\n      setContactsErr(\"      \")\n    } else {\n      setbtnLoader(true)\n\n      const regData = {\n        User: {\n          Id: 0,\n          Phones: phone ? [phone] : null,\n          NameFirst: name,\n          NameSecond: surname,\n          About: \"\",\n          Photo: \"\",\n          Country: \"\",\n          City: \"\",\n          Birthday: \"\",\n          Language: null,\n          NodeId: activeNode.Id,\n          Online: null,\n          Emails: email ? [email] : null,\n          Blacklist: null,\n          Visible: null,\n          Security: null,\n          Tag: 0,\n          RegistrationDate: null\n        },\n        RequestId: socket.makeId(),\n        RequestType: 37,\n        Type: 0\n      }\n\n      socket.send(regData)\n    }\n  }\n\n  const handleSetName = e => {\n    setName(e.target.value)\n    setNameErr(false)\n  }\n\n  const handleSetSurname = e => {\n    setSurname(e.target.value)\n  }\n\n  const handleSetPhone = e => {\n    setPhone(e.target.value)\n    setContactsErr(false)\n  }\n\n  const handleSetEmail = e => {\n    setEmail(e.target.value)\n    setContactsErr(false)\n  }\n\n  const selectNode = data => {\n    if (data.item.props.data) {\n      setActiveNode(data.item.props.data)\n      localStorage.setItem(\"node\", JSON.stringify(data.item.props.data))\n    }\n  }\n\n  const menu = (\n    <Menu onClick={(node) => selectNode(node)}>\n      {JSON.parse(localStorage.getItem(\"nodes\")).map((node, i) => {\n        return (\n          <Menu.Item key={i} data={node}>\n            {node.Name}\n          </Menu.Item>\n        )\n      })}\n      {\n        // this.state.activeNode ? <Menu.Item key='auto' data={null}></Menu.Item> : null\n      }\n    </Menu>\n  )\n\n  return (\n    <Row\n      type=\"flex\"\n      align=\"middle\"\n      justify=\"center\"\n      style={{ height: \"100vh\" }}\n    >\n      <Col>\n        <div className=\"auth__type\">\n          <h1></h1>\n          <div>\n            <Form className=\"login-form\">\n              <Form.Item\n                validateStatus={nameErr ? \"error\" : \"\"}\n                help={nameErr || \"\"}\n              >\n                <Input placeholder=\"\" onChange={handleSetName} />\n              </Form.Item>\n              <Form.Item validateStatus=\"\">\n                <Input placeholder=\"\" onChange={handleSetSurname} />\n              </Form.Item>\n              <Form.Item\n                validateStatus={contactsErr ? \"error\" : \"\"}\n                help={contactsErr || \"\"}\n              >\n                <Input placeholder=\" \" onChange={handleSetPhone} />\n              </Form.Item>\n              <Form.Item\n                validateStatus={contactsErr ? \"error\" : \"\"}\n                help={contactsErr || \"\"}\n              >\n                <Input placeholder=\"Email\" onChange={handleSetEmail} />\n              </Form.Item>\n              <Form.Item>\n                <Row>\n                  <Col style={{ textAlign: \"center\" }}>\n                    <Button\n                      type=\"primary\"\n                      onClick={handleRegistration}\n                      loading={btnLoader}\n                    >\n                      \n                    </Button>\n                  </Col>\n                </Row>\n              </Form.Item>\n            </Form>\n            <div className=\"auth__type_server\">\n              <span>: </span>\n              <Dropdown overlay={menu}>\n                <span className=\"ant-dropdown-link\">\n                  {activeNode\n                    ? activeNode.Name\n                    : \"\"}\n                  <Icon type=\"down\" />\n                </span>\n              </Dropdown>\n            </div>\n          </div>\n        </div>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Registration\n","import React, { Component } from \"react\"\nimport { Row, Col, Button, Form, Input } from \"antd\"\nimport socket from \"../transport/Connect\"\n\nclass Verify extends Component {\n  constructor() {\n    super()\n    this.state = {\n      verifyUid: null,\n      verifyErr: null,\n      verifyRequestSended: false,\n      verifyCode: null,\n      verifyCodeErr: null,\n      btnPreloader: false,\n      verifyType: \"\"\n    }\n  }\n\n  componentDidMount() {\n    const path = this.props.location.pathname.split('/');\n    this.setState({\n      verifyType: path[2]\n    })\n\n    socket.onMessage = data => {\n      this.setState({\n        btnPreloader: false\n      })\n\n      if (data.ErrorCode !== 0) {\n        this.setState({\n          verifyErr: data.Message\n        })\n      } else if (data.ResponseType === 10) {\n        this.setState({\n          verifyRequestSended: true\n        })\n      } else if (data.ResponseType === 6) {\n        localStorage.setItem(\"FileAccessToken\", data.FileAccessToken)\n        localStorage.setItem(\"AccessToken\", data.Token.AccessToken)\n        localStorage.setItem(\"RefreshToken\", data.Token.RefreshToken)\n        localStorage.setItem(\"User\", JSON.stringify(data.User))\n\n        window.location.replace(\"/\")\n      }\n    }\n  }\n\n  onChangePhone(e) {\n    this.setState({\n      verifyUid: e.target.value,\n      verifyErr: null\n    })\n  }\n\n  onChangeVerifCode(e) {\n    this.setState({\n      verifyCode: e.target.value,\n      verifyCodeErr: null\n    })\n  }\n\n  sendverifyCode(e) {\n    e.preventDefault()\n\n    this.setState({\n      btnPreloader: true\n    })\n\n    const data = {\n      Uid: this.state.verifyUid,\n      VCode: this.state.verifyCode,\n      LoginType: 1,\n      UidType: this.state.verifyType === 'by-email' ? 2 : this.state.verifyType === 'by-phone' ? 0 : 0,\n      RequestId: socket.makeId(),\n      RequestType: 33,\n      Type: 0\n    }\n\n    socket.send(data)\n  }\n\n  sendVerificationQuery(e) {\n    e.preventDefault()\n\n    this.setState({\n      btnPreloader: true\n    })\n\n    const data = {\n      VerificationType: this.state.verifyType === 'by-email' ? 1 : this.state.verifyType === 'by-phone' ? 0 : 0,\n      Uid: this.state.verifyUid,\n      RequestId: socket.makeId(),\n      RequestType: 42,\n      Type: 0\n    }\n\n    socket.send(data)\n  }\n\n  render() {\n    return (\n      <Row\n        type=\"flex\"\n        align=\"middle\"\n        justify=\"center\"\n        style={{ height: \"100vh\" }}\n      >\n        <Col>\n          <div className=\"auth__type\">\n            <h1></h1>\n            {!this.state.verifyRequestSended ? (\n              <div>\n                <h2>\n                  {this.state.verifyType === 'by-email' ? '  email' : this.state.verifyType === 'by-phone' ? '  ' : ''}\n                </h2>\n                <Form\n                  onSubmit={this.sendVerificationQuery.bind(this)}\n                  className=\"login-form\"\n                >\n                  <Form.Item\n                    validateStatus={this.state.verifyErr ? \"error\" : \"\"}\n                    help={this.state.verifyErr ? this.state.verifyErr : \"\"}\n                  >\n                    <Input\n                      placeholder={this.state.verifyType === 'by-email' ? ' email' : this.state.verifyType === 'by-phone' ? '  ' : ''}\n                      onChange={this.onChangePhone.bind(this)}\n                    />\n                  </Form.Item>\n                  <Form.Item>\n                    <Row>\n                      <Col style={{ textAlign: \"center\" }}>\n                        <Button\n                          type=\"primary\"\n                          htmlType=\"submit\"\n                          disabled={!this.state.verifyUid}\n                          loading={!!this.state.btnPreloader}\n                        >\n                           {this.state.verifyType === 'by-email' ? '' : this.state.verifyType === 'by-phone' ? 'SMS' : ''}  \n                        </Button>\n                      </Col>\n                    </Row>\n                  </Form.Item>\n                </Form>\n              </div>\n            ) : (\n              <div>\n                <h2>   {this.state.verifyType === 'by-email' ? '' : this.state.verifyType === 'by-phone' ? 'SMS' : ''}</h2>\n                <p>\n                    {this.state.verifyType === 'by-email' ? '' : this.state.verifyType === 'by-phone' ? 'SMS' : ''} \n                   {this.state.verifyType === 'by-email' ? 'email' : this.state.verifyType === 'by-phone' ? '' : ''} {this.state.verifyUid}. \n                      \n                </p>\n                <Form\n                  onSubmit={this.sendverifyCode.bind(this)}\n                  className=\"login-form\"\n                >\n                  <Form.Item\n                    validateStatus={this.state.verifyCodeErr ? \"error\" : \"\"}\n                    help={this.state.verifyCodeErr ? this.state.verifyCodeErr : \"\"}\n                  >\n                    <Input\n                      placeholder={`  ${this.state.verifyType === 'by-email' ? '' : this.state.verifyType === 'by-phone' ? 'SMS' : ''}, 4 `}\n                      onChange={this.onChangeVerifCode.bind(this)}\n                    />\n                  </Form.Item>\n                  <Form.Item>\n                    <Row>\n                      <Col style={{ textAlign: \"center\" }}>\n                        <Button\n                          type=\"primary\"\n                          htmlType=\"submit\"\n                          disabled={!this.state.verifyCode}\n                          loading={!!this.state.btnPreloader}\n                        >\n                          \n                        </Button>\n                      </Col>\n                    </Row>\n                  </Form.Item>\n                </Form>\n              </div>\n            )}\n          </div>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nexport default Verify\n","import { getFormatedMessages } from \"./Message\"\nimport {\n  getFormatedDialogs,\n  getFormatedChats,\n  getActiveDialog\n} from \"./Dialog\"\nimport {\n  getFormatedUser,\n  getFormatedChatsUsers,\n  getUserById,\n  getUserInitials\n} from \"./User\"\n\nexport default {\n  getFormatedMessages,\n  getFormatedDialogs,\n  getFormatedChats,\n  getFormatedChatsUsers,\n  getFormatedUser,\n  getUserById,\n  getUserInitials,\n  getActiveDialog\n}\n","// eslint-disable-next-line\nexport function getFormatedMessages(messages) {\n  const mess = []\n  messages.forEach(message => {\n    const tempMess = {\n      Attachments: message.Attachments,\n      ConversationId: message.ConversationId,\n      ConversationType: message.ConversationType,\n      GlobalId: message.GlobalId,\n      Read: message.Read,\n      SenderId: message.SenderId,\n      SendingTime: message.SendingTime,\n      Text: message.Text\n    }\n    mess.push(tempMess)\n  })\n\n  return mess\n}\n","// eslint-disable-next-line\nexport function getFormatedDialogs(data) {\n  const dialogs = []\n  data.forEach(dialog => {\n    const tempDialogs = {\n      AttachmentType: dialog.AttachmentType,\n      ConversationId: dialog.ConversationId,\n      ConversationType: dialog.ConversationType,\n      IsMuted: dialog.IsMuted,\n      LastMessageId: dialog.LastMessageId,\n      LastMessageSenderId: dialog.LastMessageSenderId,\n      LastMessageSenderName: dialog.LastMessageSenderName,\n      LastMessageTime: dialog.LastMessageTime,\n      Photo: dialog.Photo,\n      PreviewText: dialog.PreviewText,\n      Read: dialog.Read,\n      SecondUid: dialog.SecondUid,\n      Title: dialog.Title,\n      UnreadedCount: dialog.UnreadedCount\n    }\n    dialogs.push(tempDialogs)\n  })\n\n  return dialogs\n}\n\nexport function getFormatedChats(data) {\n  const chats = []\n  data.forEach(chat => {\n    const tempChat = {\n      About: chat.About,\n      Id: chat.Id,\n      Key: chat.Key,\n      Name: chat.Name,\n      NodesId: chat.NodesId,\n      Photo: chat.Photo,\n      Public: chat.Public,\n      Security: chat.Security,\n      Tag: chat.Tag,\n      Type: chat.Type,\n      Users: chat.Users,\n      Visible: chat.Visible\n    }\n    chats.push(tempChat)\n  })\n\n  return chats\n}\n\nexport function getActiveDialog(dialogs) {\n  const dialog = dialogs.find(dialog => dialog.active)\n\n  return dialog\n}\n","// eslint-disable-next-line\nexport function getFormatedUser(data) {\n  const users = []\n  data.forEach(user => {\n    const tempUser = {\n      About: user.About,\n      Birthday: user.Birthday,\n      BlackList: user.BlackList,\n      City: user.City,\n      Confirmed: user.Confirmed,\n      Contact: user.Contact,\n      ContactsPrivacy: user.ContactsPrivacy,\n      Country: user.Country,\n      Emails: user.Emails,\n      Encryption: user.Encryption,\n      Groups: user.Groups,\n      Id: user.Id,\n      Keys: user.Keys,\n      Language: user.Language,\n      NameFirst: user.NameFirst,\n      NameSecond: user.NameSecond,\n      NodeId: user.NodeId,\n      Online: user.Online,\n      Phones: user.Phones,\n      Photo: user.Photo,\n      RegistrationDate: user.RegistrationDate,\n      Security: user.Security,\n      Tag: user.Tag,\n      Visible: user.Visible\n    }\n    users.push(tempUser)\n  })\n\n  return users\n}\n\nexport function getFormatedChatsUsers(data) {\n  const users = []\n  data.forEach(user => {\n    const tempUser = {\n      Banned: user.Banned,\n      ChatId: user.ChatId,\n      Deleted: user.Deleted,\n      InviterId: user.InviterId,\n      IsMuted: user.IsMuted,\n      Joined: user.Joined,\n      UserId: user.UserId,\n      UserInfo: user.UserInfo,\n      UserRole: user.UserRole\n    }\n    users.push(tempUser)\n  })\n\n  return users\n}\n\nexport function getUserById(id, users) {\n  const foundUser = users.find(user => user.Id === id)\n  return foundUser\n}\n\nexport function getUserInitials(dialog) {\n  if (!dialog.Photo) {\n    let initials = \"\"\n\n    if (dialog.Title || dialog.ChannelName) {\n      let defaultAva = dialog.Title || dialog.ChannelName\n      defaultAva = defaultAva.split(\" \", 2)\n\n      if (defaultAva[0]) {\n        initials = defaultAva[0][0]\n      }\n      if (defaultAva[1]) {\n        initials += defaultAva[1][0]\n      }\n    } else if (dialog.NameFirst) {\n      initials = dialog.NameFirst[0]\n      if (dialog.NameSecond) {\n        initials = initials + dialog.NameSecond[0]\n      }\n    } else {\n      const secondUid = dialog.SecondUid + ''\n      initials = secondUid.substr(0, 2)\n    }\n\n    return initials\n  }\n}\n","import React, { Component } from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { openDialog } from \"../actions/dialogs\"\nimport selectors from \"../selectors\"\n\nclass SidebarItem extends Component {\n  constructor() {\n    super()\n    this.state = {\n      defaultAva: \"\"\n    }\n  }\n\n  componentDidMount() {\n    //      ( css   2 )\n    const size = 60\n    const newsContent = this.refs.messageText\n    const newsText = newsContent.innerText\n\n    if (newsText.length > size) {\n      newsContent.innerText = newsText.slice(0, size) + \" ...\"\n    }\n\n    //       \n    if (!this.props.dialog.Photo) {\n      this.setState({\n        defaultAva: selectors.getUserInitials(this.props.dialog)\n      })\n    }\n  }\n\n  openDialog() {\n    const payload = {}\n    payload.type = this.props.type\n    payload.data = this.props.dialog\n    this.props.openDialog(payload)\n  }\n\n  render() {\n    const avatarStyle = {\n      width: \"100%\",\n      height: \"100%\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center center\",\n      backgroundImage: `url(https://${this.props.node}:5000/api/Files/${this.props.dialog.Photo})`,\n      backgroundRepeat: \"no-repeat\"\n    }\n\n    // const defaultAvaBg = {\n    //   background: `hsl(${this.props.dialog.SecondUid}, 90%, 90%)`\n    // }\n\n    return (\n      <NavLink to={\"/\"} onClick={() => this.openDialog()}>\n        <div className=\"sidebar__item\">\n          <div className=\"sidebar__ava\">\n            {this.props.dialog.UnreadedCount > 0 ? (\n              <div className=\"sidebar__badge\">\n                {this.props.dialog.UnreadedCount}\n              </div>\n            ) : null}\n            <div className=\"sidebar__photo\">\n              {this.props.dialog.Photo ? (\n                <div style={avatarStyle} />\n              ) : (\n                <div className=\"sidebar__photo-default avatar-default\">\n                  {this.state.defaultAva}\n                </div>\n              )}\n            </div>\n          </div>\n          <div>\n            <div className=\"sidebar__name\">\n              <span>{this.props.dialog.Title || this.props.dialog.NameFirst + this.props.dialog.NameSecond || this.props.dialog.ChannelName || this.props.dialog.Name || ' '}</span>\n            </div>\n            <div className=\"sidebar__message\" ref=\"messageText\">\n              {\n                this.props.dialog.PreviewText ? this.props.dialog.PreviewText :\n                this.props.dialog.AttachmentType ===  1 ? '' :\n                this.props.dialog.AttachmentType ===  2 ? '' :\n                this.props.dialog.About ? this.props.dialog.About : null\n              }\n            </div>\n          </div>\n        </div>\n      </NavLink>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openDialog: dialogId => dispatch(openDialog(dialogId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarItem)\n","/* eslint-disable */\nexport function openProfile(dialog) {\n  return {\n    type: \"OPEN_PROFILE\",\n    dialog\n  }\n}\n\nexport function toggleDrawer() {\n  return {\n    type: \"TOGGLE_DRAWER\"\n  }\n}\n\nexport function toggleModal(name) {\n  return {\n    type: \"TOGGLE_MODAL\",\n    name: name\n  }\n}\n","/* eslint-disable */\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport logo from \"../assets/logo.PNG\"\nimport { toggleDrawer } from \"../actions/ui\"\nimport { Icon } from 'antd';\n\nfunction HeadSidebar(props) {\n  return (\n    <div className=\"head-sidebar\">\n      <Icon type=\"menu\" className='menu-btn' onClick={() => props.toggleDrawer()} />\n      <div className=\"head-sidebar__logo\">\n        <img src={logo} alt=\"Y Messenger\" />\n      </div>\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleDrawer: () => dispatch(toggleDrawer())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeadSidebar)","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { searchStart, searchEnd } from \"../actions/search\"\nimport socket from \"../transport/Connect\"\nimport { Input } from 'antd'\n\nconst { Search } = Input\n\nfunction SearchComponent(props) {\n  const searchDialogs = value => {\n    let text = \"\"\n    //        \n    if (typeof value === \"object\") {\n      text = value.target.value\n    } else if (typeof value === \"string\") {\n      text = value\n    }\n\n    if (text.length) {\n      props.searchStart(text.toLowerCase())\n    } else if (!text.length) {\n      props.searchEnd()\n    }\n\n    const searchRequest = {\n      RequestType: 46,\n      SearchQuery: text,\n      RequestId: socket.makeId(),\n      Direction: true,\n      Type: 0\n    }\n\n    socket.send(searchRequest)\n  }\n\n  return (\n    <div className=\"search\">\n      <Search\n        placeholder=\"\"\n        onSearch={searchDialogs}\n        onChange={searchDialogs}\n        enterButton\n      />\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.ui.search\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    searchStart: (data) => dispatch(searchStart(data)),\n    searchEnd: () => dispatch(searchEnd()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchComponent)\n","export function searchResultReceived(searchResult) {\n  return {\n    type: \"SEARCH_RESULT_RECEIVED\",\n    searchResult\n  }\n}\n\nexport function searchStart(text) {\n  return {\n    type: \"SEARCH_START\",\n    text\n  }\n}\n\nexport function searchEnd() {\n  return {\n    type: \"SEARCH_END\"\n  }\n}\n","/* eslint-disable */\nimport React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport SidebarItem from \"./SidebarItem\"\nimport HeadSidebar from \"./HeadSidebar\"\nimport Search from \"./Search\"\nimport { openDialog } from \"../actions/dialogs\"\nimport socket from \"../transport/Connect\"\n\nfunction Sidebar(props) {\n  const [localFoundDialogs, setLocalFoundDialogs] = useState([])\n\n  useEffect(() => {\n    if (props.search) {\n      const searchDialogs = props.dialogs.filter(dialog => {\n        if (!dialog.fake) {\n          if (dialog.Title) {\n            return dialog.Title.toLowerCase().indexOf(props.search) >= 0\n          }\n        }\n      })\n      setLocalFoundDialogs(searchDialogs)\n    } else {\n      setLocalFoundDialogs(props.dialogs)\n    }\n  }, [props.search, props.dialogs])\n\n  const showSidebarItem = () => {\n    return localFoundDialogs.map(dialog => {\n      if(dialog && !dialog.fake){\n        return <SidebarItem dialog={dialog} key={socket.makeId()} type='dialog' />\n      }\n    })\n  }\n\n  const showSearchResultChannels = () => {\n    if (props.searchResult.channels) {\n      return props.searchResult.channels.map((dialog, i) => {\n        if(dialog){\n          if (i === 0) {\n            return (\n              <div key={socket.makeId()}>\n                <div className=\"sidebar__title\">:</div>\n                <SidebarItem dialog={dialog} type=\"channel\" />\n              </div>\n            )\n          } else {\n            return (\n              <SidebarItem dialog={dialog} type=\"channel\" key={socket.makeId()} />\n            )\n          }\n        }\n      })\n    }\n  }\n\n  const showSearchResultChats = () => {\n    if (props.searchResult.chats) {\n      return props.searchResult.chats.map((dialog, i) => {\n        if(dialog){\n          if (i === 0) {\n            return (\n              <div key={socket.makeId()}>\n                <div className=\"sidebar__title\">:</div>\n                <SidebarItem dialog={dialog} type=\"chat\" />\n              </div>\n            )\n          } else {\n            return (\n              <SidebarItem dialog={dialog} type=\"chat\" key={socket.makeId()} />\n            )\n          }\n        }\n      })\n    }\n  }\n\n  const showSearchResultUsers = () => {\n    if (props.searchResult.users) {\n      return props.searchResult.users.map((dialog, i) => {\n        if(dialog){\n          if (i === 0) {\n            return (\n              <div key={socket.makeId()}>\n                <div className=\"sidebar__title\">:</div>\n                <SidebarItem dialog={dialog} type=\"user\" />\n              </div>\n            )\n          } else {\n            return (\n              <SidebarItem dialog={dialog} type=\"user\" key={socket.makeId()} />\n            )\n          }\n        }\n      })\n    }\n  }\n\n  return (\n    <div className=\"sidebar\">\n      <HeadSidebar />\n      <Search />\n      <div className=\"sidebar-viewport\">\n        {showSidebarItem()}\n        {props.searchResult ? showSearchResultUsers() : null}\n        {props.searchResult ? showSearchResultChats() : null}\n        {props.searchResult ? showSearchResultChannels() : null}\n      </div>\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dialogs: state.dialogs,\n    search: state.ui.search,\n    searchResult: state.searchResult\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openDialog: dialogId => dispatch(openDialog(dialogId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar)\n","/* eslint-disable */\nimport React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport ReactTimeAgo from \"react-time-ago\"\nimport JavascriptTimeAgo from \"javascript-time-ago\"\nimport ru from \"javascript-time-ago/locale/ru\"\nimport { Icon } from \"antd\"\nimport socket from \"../transport/Connect\"\nimport { openProfile } from \"../actions/ui\"\nimport { closeDialog } from \"../actions/dialogs\"\nimport selectors from \"../selectors\"\n\nJavascriptTimeAgo.locale(ru)\n\nfunction HeadDialog(props) {\n  const [dialog, setDialog] = useState(null)\n  const [defaultAva, setDefaultAva] = useState(\"\")\n  const [user, setUser] = useState(null)\n  const [windowWidth, setWindowWidth] = useState(document.body.clientWidth)\n\n  useEffect(() => {}, [windowWidth])\n\n  window.onresize = () => {\n    setWindowWidth(document.body.clientWidth)\n  }\n\n  useEffect(() => {\n    if (props.users && dialog) {\n      const user = props.users.find(user => user.Id === dialog.SecondUid)\n      setUser(user)\n    }\n  }, [props.users, dialog])\n\n  useEffect(() => {\n    props.dialogs.forEach(dialog => {\n      if (dialog.active) {\n        setDialog(dialog)\n      }\n    })\n  }, [props.dialogs])\n\n  useEffect(() => {\n    if (dialog) {\n      //       \n      if (!dialog.Photo) {\n        setDefaultAva(selectors.getUserInitials(dialog))\n      }\n    }\n  }, [dialog])\n\n  const logout = () => {\n    const logout = {\n      Full: false,\n      AccessToken: localStorage.getItem(\"AccessToken\"),\n      RequestType: 34,\n      RequestId: socket.makeId(),\n      Type: 0\n    }\n\n    socket.send(logout)\n\n    localStorage.removeItem(\"AccessToken\")\n    localStorage.removeItem(\"FileAccessToken\")\n    localStorage.removeItem(\"RefreshToken\")\n    localStorage.removeItem(\"User\")\n\n    window.location.replace(\"/\")\n  }\n\n  const handleOpenProfile = () => {\n    props.openProfile(dialog)\n  }\n\n  return (\n    <div className=\"head-dialog\">\n      {windowWidth <= 675 && selectors.getActiveDialog(props.dialogs) ? (\n        <div className=\"head-dialog__back\" onClick={props.closeDialog} >\n          <Icon type=\"left\" />\n        </div>\n      ) : null}\n      <div className=\"head-dialog__user\" onClick={handleOpenProfile}>\n        <div className=\"head-dialog__ava\">\n          {dialog ? (\n            dialog.Photo ? (\n              <div\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  backgroundSize: \"cover\",\n                  backgroundPosition: \"center center\",\n                  backgroundImage: `url(https://${props.node}:5000/api/Files/${dialog.Photo})`,\n                  backgroundRepeat: \"no-repeat\"\n                }}\n              />\n            ) : (\n              <div className=\"head-dialog__photo-default avatar-default\">{defaultAva}</div>\n            )\n          ) : null}\n        </div>\n        <div>\n          <div className=\"head-dialog__name\">{dialog ? dialog.Title || dialog.ChannelName || ' ' : null}</div>\n          <div className=\"head-dialog__status\">\n            {user ?\n              user.Online ? \n                <ReactTimeAgo date={user.Online * 1000} locale=\"ru\" />\n              : null\n            : null}\n          </div>\n        </div>\n      </div>\n      <div onClick={logout} className=\"head-dialog__logout\">\n        \n      </div>\n      {/* <div className='head__lock'>\n        <LockIcon />\n      </div> */}\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dialogs: state.dialogs,\n    users: state.users,\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openProfile: data => dispatch(openProfile(data)),\n    closeDialog: () => dispatch(closeDialog())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeadDialog)\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", {\n  id: \"check\"\n}, React.createElement(\"polygon\", {\n  points: \"142.8,323.85 35.7,216.75 0,252.45 142.8,395.25 448.8,89.25 413.1,53.55  \"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgTickIcon = function SvgTickIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"448.8px\",\n    height: \"448.8px\",\n    viewBox: \"0 0 448.8 448.8\",\n    style: {\n      enableBackground: \"new 0 0 448.8 448.8\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTickIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tick_icon.06277842.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", {\n  id: \"done-all\"\n}, React.createElement(\"path\", {\n  d: \"M448.8,161.925l-35.7-35.7l-160.65,160.65l35.7,35.7L448.8,161.925z M555.899,126.225l-267.75,270.3l-107.1-107.1 l-35.7,35.7l142.8,142.8l306-306L555.899,126.225z M0,325.125l142.8,142.8l35.7-35.7l-142.8-142.8L0,325.125z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgDoubleTickIcon = function SvgDoubleTickIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"594.149px\",\n    height: \"594.149px\",\n    viewBox: \"0 0 594.149 594.149\",\n    style: {\n      enableBackground: \"new 0 0 594.149 594.149\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDoubleTickIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/double_tick_icon.7319bcfe.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable */\nimport React, { useState, useEffect } from \"react\"\nimport { Modal, Icon } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { NavLink, Redirect } from \"react-router-dom\"\nimport selectors from \"../selectors\"\nimport { forwardingMessage } from \"../actions/dialogs\"\nimport { ReactComponent as TickIcon } from \"../assets/tick_icon.svg\"\nimport { ReactComponent as DoubleTickIcon } from \"../assets/double_tick_icon.svg\"\n\nfunction Message(props) {\n  const [visible, setVisible] = useState(false)\n  const [messageTime, setMessageTime] = useState(\"\")\n  const [isContextMenuVisible, setSsContextMenuVisible] = useState(false)\n  const [redirect, setRedirect] = useState(false)\n  const user = selectors.getUserById(props.message.SenderId, props.users) || {}\n\n  useEffect(() => {\n    if (props.message) {\n      //   \n      const timestamp = new Date(props.message.SendingTime * 1000)\n      const date = new Date()\n      date.setTime(timestamp)\n\n      let hour = `${date.getHours()}`\n      let minutes = `${date.getMinutes()}`\n\n      if (hour.length === 1) {\n        hour = `0${hour}`\n      }\n      if (minutes.length === 1) {\n        minutes = `0${minutes}`\n      }\n\n      setMessageTime(`${hour}:${minutes}`)\n    }\n  }, [props.message])\n\n  function getForwardingUser(userId) {\n    const forwardingUser = props.users.find(user => user.Id === userId)\n    if (forwardingUser) {\n      return ` ${forwardingUser.NameFirst} ${forwardingUser.NameSecond}`\n    }\n  }\n\n  function showMessage(message) {\n    if (message.Attachments) {\n      if (message.Attachments.length) {\n        //   \n        //   \n        if (message.Attachments[0].Type === 2) {\n          return (\n            <div className=\"message__img\" onClick={() => setVisible(true)}>\n              <img\n                src={`https://${props.node}:5000/api/Files/` + message.Attachments[0].Payload.FileId}\n                alt=\"\"\n              />\n            </div>\n          )\n        } else if (message.Attachments[0].Type === 1) {\n          //   \n          if (message.Attachments[0].Payload) {\n            return (\n              <div>\n                <Icon type=\"download\" className=\"download-icon\" />\n                <a href={`https://${props.node}:5000/api/Files/` + message.Attachments[0].Payload.FileId} download>\n                  {message.Attachments[0].Payload.Filename}\n                </a>\n                {message.Text}\n              </div>\n            )\n          }\n        } else if (message.Attachments[0].Type === 5) {\n          //  \n          if (message.Attachments[0].Payload.length > 0) {\n            return (\n              <div className=\"forwarding_message\">\n                  \n                <NavLink to={`/dialog/${message.ConversationId}`}>\n                  {getForwardingUser(message.Attachments[0].Payload[0].SenderId)}\n                </NavLink>\n                <div>\n                  {message.Attachments[0].Payload[0].Text}\n                </div>\n                {\n                  message.Text ?\n                    <div>\n                      {message.Text}\n                    </div>\n                  : null\n                }\n              </div>\n            )\n          } else {\n            return (\n              <div className=\"forwarding_message\">\n                  :\n                <div>  </div>\n              </div>\n            )\n          }\n        }\n      } else {\n        //    \n        return message.Text ? (\n          <div>{message.Text}</div>\n        ) : null\n      }\n    } else {\n      //    \n      return message.Text ? (\n        <div>{message.Text}</div>\n      ) : null\n    }\n  }\n\n  function showMessageMenu() {\n    setSsContextMenuVisible(!isContextMenuVisible)\n  }\n\n  const handleReplyToMessage = () => {\n    props.forwardingMessage(props.message)\n  }\n\n  const handleForwardMessage = () => {\n    props.forwardingMessage(props.message)\n    setRedirect(true)\n  }\n\n  let avatarStyle = {}\n\n  if (user) {\n    avatarStyle = {\n      alignSelf: \"flex-end\",\n      flexShrink: 0,\n      width: \"44px\",\n      height: \"44px\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center center\",\n      backgroundImage: `url(https://${props.node}:5000/api/Files/${user.Photo})`,\n      backgroundRepeat: \"no-repeat\",\n      borderRadius: \"100%\"\n    }\n  }\n\n  if (redirect) {\n    return <Redirect to=\"/\" />\n  }\n  if (user && props.message) {\n    return (\n      <div\n        className={\n          user.currentUser\n            ? \"message message-out\"\n            : \"message message-in\"\n        }\n        onClick={showMessageMenu}\n        style={props.message && isContextMenuVisible ? { background: \"#ebf5ff\" } : null }\n      >\n        {!user.currentUser ? <div className=\"message__ava\" style={avatarStyle} /> : null}\n        {\n          user.currentUser && props.message.Read ?\n            <DoubleTickIcon className='message__read' />\n          : user.currentUser && !props.message.Read ? \n            <TickIcon className='message__read' />\n          : null\n        }\n        <div className=\"message__content\">\n          {\n            !user.currentUser ?\n              <div className=\"message__name\">\n                {user.NameFirst ? user.NameFirst + ' ' : null}\n                {user.NameSecond ? user.NameSecond : null}\n              </div>\n            : null\n          }          \n          {showMessage(props.message)}\n        </div>\n        <div className=\"message__time\">{messageTime}</div>\n\n        {props.message.Attachments && props.message.Attachments[0] ? (\n          <Modal\n            visible={visible}\n            onCancel={() => setVisible(false)}\n            footer={null}\n            maskClosable\n          >\n            <img\n              className=\"popup__img\"\n              src={`https://${props.node}:5000/api/Files/${props.message.Attachments[0].Payload.FileId}`}\n              alt=\"\"\n            />\n          </Modal>\n        ) : null}\n        {props.message && isContextMenuVisible ? (\n          <div className=\"message-menu\">\n            <ul>\n              <li onClick={handleReplyToMessage}></li>\n              <li onClick={handleForwardMessage}></li>\n            </ul>\n          </div>\n        ) : null}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    users: state.users,\n    forwardMessage: state.forwardMessage,\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    forwardingMessage: message => dispatch(forwardingMessage(message))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Message)\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(-198)\",\n  id: \"g69\"\n}, React.createElement(\"g\", {\n  id: \"_x33__22_\"\n}, React.createElement(\"g\", {\n  id: \"g66\"\n}, React.createElement(\"path\", {\n  id: \"path64\",\n  d: \"m 544.5,99 v 495 c 0,82.021 -66.479,148.5 -148.5,148.5 -82.021,0 -148.5,-66.479 -148.5,-148.5 V 148.5 c 0,-54.673 44.327,-99 99,-99 54.673,0 99,44.327 99,99 V 594 c 0,27.349 -22.176,49.5 -49.5,49.5 -27.349,0 -49.5,-22.151 -49.5,-49.5 V 198 H 297 v 396 c 0,54.673 44.327,99 99,99 54.673,0 99,-44.327 99,-99 V 148.5 C 495,66.479 428.521,0 346.5,0 264.479,0 198,66.479 198,148.5 V 618.75 C 210.202,716.389 295.045,792 396,792 496.955,792 581.798,716.389 594,618.75 V 99 Z\"\n}))));\n\nvar SvgPaperclipIcon = function SvgPaperclipIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 396 792\",\n    height: 0,\n    width: 0,\n    y: \"0px\",\n    x: \"0px\",\n    id: \"Capa_1\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPaperclipIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/paperclip_icon.b4a5561e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g95\"\n}, React.createElement(\"g\", {\n  id: \"send\"\n}, React.createElement(\"polygon\", {\n  id: \"polygon92\",\n  points: \"0,38.25 0,216.75 382.5,267.75 0,318.75 0,497.25 535.5,267.75 \"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g97\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g99\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g101\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g103\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g105\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g107\"\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g109\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g111\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g113\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g115\"\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g117\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g119\"\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g121\"\n});\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g123\"\n});\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-38.25)\",\n  id: \"g125\"\n});\n\nvar SvgSendButtonIcon = function SvgSendButtonIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 535.5 459\",\n    height: 0,\n    width: 0,\n    y: \"0px\",\n    x: \"0px\",\n    id: \"Capa_1\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSendButtonIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/send_button_icon.56dc055f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { ReactComponent as Paperclip } from \"../assets/paperclip_icon.svg\"\nimport { ReactComponent as SendBtn } from \"../assets/send_button_icon.svg\"\nimport { forwardingMessage } from \"../actions/dialogs\"\nimport socket from \"../transport/Connect\"\nimport { Upload, Icon, message } from \"antd\"\nimport axios from 'axios'\n\nfunction NewMessageField(props) {\n  const [messageText, setMessageText] = useState(\"\")\n  const [imgLoading, setImgLoading] = useState(false)\n  const [imageUrl, setImageUrl] = useState(null)\n  const [attachmentsType, setAttachmentsType] = useState(null)\n\n  useEffect(() => {\n    if (imageUrl) {\n      sendMessage()\n    }\n  }, [imageUrl])\n\n  const sendMessage = () => {\n    if (props.forwardMessage) {\n      //       \n      const data = {\n        Messages: [\n          {\n            Id: 0,\n            SendingTime: \"\",\n            SenderId: props.user.Id,\n            ReceiverId: props.dialog.SecondUid,\n            ConversationId: props.dialog.ConversationId,\n            ConversationType: props.dialog.ConversationType,\n            Read: false,\n            NodesId: null,\n            ReplyTo: null,\n            Text: messageText,\n            Attachments: [\n              {\n                Type: 5,\n                Payload: {\n                  MessagesGlobalId: [props.forwardMessage.GlobalId],\n                  ConversationId: props.forwardMessage.ConversationId,\n                  ConversationType: props.forwardMessage.ConversationType\n                }\n              }\n            ]\n          }\n        ],\n        RequestType: 39,\n        RequestId: socket.makeId(),\n        Type: 0\n      }\n\n      socket.send(data)\n    } else if (imageUrl) {\n      const data = {\n        Messages: [\n          {\n            Id: 0,\n            SendingTime: \"\",\n            SenderId: props.user.Id,\n            ReceiverId: props.dialog.SecondUid,\n            ConversationId: props.dialog.ConversationId,\n            ConversationType: props.dialog.ConversationType,\n            Read: false,\n            NodesId: null,\n            ReplyTo: null,\n            Text: messageText,\n            Attachments: [\n              {\n                Type: attachmentsType,\n                Hash: null,\n                MessageId: 0,\n                Payload: imageUrl,\n                NodesId: null\n              }\n            ],\n            GlobalId: null\n          }\n        ],\n        RequestType: 39,\n        RequestId: socket.makeId(),\n        Type: 0\n      }\n\n      socket.send(data)\n    } else {\n      //     \n      const data = {\n        Messages: [\n          {\n            Id: 0,\n            SendingTime: \"\",\n            SenderId: props.user.Id,\n            ReceiverId: props.dialog.SecondUid,\n            ConversationId: props.dialog.ConversationId,\n            ConversationType: props.dialog.ConversationType,\n            Read: false,\n            NodesId: null,\n            ReplyTo: null,\n            Text: messageText,\n            Attachments: null,\n            GlobalId: null\n          }\n        ],\n        RequestType: 39,\n        RequestId: socket.makeId(),\n        Type: 0\n      }\n\n      socket.send(data)\n    }\n\n    setMessageText(\"\")\n\n    if(props.forwardMessage){\n      props.forwardingMessage(false)\n    }\n  }\n\n  const handleOnKeyDown = event => {\n    if (event.keyCode === 13) {\n      sendMessage()\n    }\n  }\n\n  const handleUploadImage = data => {\n    const fileAccessToken = localStorage.getItem('FileAccessToken')\n    axios.defaults.headers['FileAccessToken'] = fileAccessToken\n\n    const formData = new FormData()\n    formData.append('file', data.file)\n\n    axios.post(`https://${props.node}:5000/api/Files`, formData)\n    .then(\n        (res) => {\n          if (res.status === 200) {\n            setImgLoading(false)\n            setImageUrl(res.data.File.FileId)\n          }\n        }\n    )\n    .catch(\n        (err) => {\n          console.log(err)\n        }\n    )\n  }\n\n  const beforeUpload = file => {\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\"\n    if (isJpgOrPng) {\n      setAttachmentsType(2)\n    } else {\n      setAttachmentsType(1)\n    }\n    return isJpgOrPng\n  }\n\n  const handleChange = info => {\n    if (info.file.status === \"uploading\") {\n      setImgLoading(true)\n      return\n    }\n  }\n\n  return (\n    <div className=\"new-message\">\n      <Upload\n        showUploadList={false}\n        customRequest={file => handleUploadImage(file)}\n        beforeUpload={beforeUpload}\n        onChange={handleChange}\n      >\n        {\n          imgLoading ? \n            <Icon type=\"loading\" className=\"loading-icon\" />\n          :\n            <Paperclip className=\"new-message__attach\"/>\n        }\n      </Upload>\n      <input\n        type=\"text\"\n        className=\"new-message__inp\"\n        placeholder=\" \"\n        value={messageText}\n        onChange={e => {\n          setMessageText(e.target.value)\n        }}\n        onKeyDown={handleOnKeyDown}\n      />\n      <SendBtn\n        onClick={() => {\n          sendMessage()\n        }}\n        className=\"new-message__send\"\n      />\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.users.find(user => user.currentUser === true),\n    dialogs: state.dialog,\n    forwardMessage: state.forwardMessage,\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    forwardingMessage: message => dispatch(forwardingMessage(message))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewMessageField)\n","/* eslint-disable */\nimport React, { useState, useEffect, useRef } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Button } from 'antd'\nimport Message from \"./Message\"\nimport NewMessageField from \"./NewMessageField\"\nimport { openDialog } from \"../actions/dialogs\"\nimport socket from \"../transport/Connect\"\nimport axios from 'axios'\n\nfunction Dialog(props) {\n  const [messages, setMessages] = useState([])\n  const [dialog, setDialog] = useState(null)\n  const mesViewport = useRef(null);\n\n  //          \n  const getUsers = mess => {\n    const users = []\n    mess.forEach(message => {\n      if (message.Attachments) {\n        if (message.Attachments.length) {\n          if (message.Attachments[0].Type === 5) {\n            if (message.Attachments[0].Payload.length > 0) {\n              const foundUser = props.users.find(\n                user => user.Id === message.Attachments[0].Payload[0].SenderId\n              )\n\n              if (!foundUser) {\n                if(message.Attachments[0].Payload[0].SenderId){\n                  users.push(message.Attachments[0].Payload[0].SenderId)\n                }\n              }\n            }\n          }\n        }\n      }\n      const foundUser = props.users.find(user => user.Id === message.SenderId)\n\n      if (!foundUser) {\n        if(message.SenderId){\n          users.push(message.SenderId)\n        }\n      }\n    })\n    const uniqueUsers = [...new Set(users.map(n => n))]\n\n    if (uniqueUsers.length) {\n      const requestUsers = {\n        UsersId: [...uniqueUsers],\n        RequestType: 28,\n        RequestId: socket.makeId(),\n        Type: 0\n      }\n\n      socket.send(requestUsers)\n    }\n  }\n\n  useEffect(() => {\n    if(props.dialog){\n      setDialog(props.dialog)\n\n      //   \n      if (props.dialog.LastMessageId) {\n        const data = {\n          MessagesId: [props.dialog.LastMessageId],\n          ConversationType: props.dialog.ConversationType,\n          ConversationId: props.dialog.ConversationId,\n          RequestId: socket.makeId(),\n          RequestType: 35,\n          Type: 0\n        }\n\n        socket.send(data)\n      }\n\n      //    \n      // mesViewport.current.onscroll = () => {\n      //   if (mesViewport.current.scrollTop === 0) {\n      //     const messagesRequest = {\n      //       ConversationType: props.dialog.ConversationType,\n      //       ConversationId: props.match.params.id,\n      //       NavigationMessageId: \"e4b9b6d5-ec14-ea92-6723-b29d3e32ac05\",\n      //       MessagesId: null,\n      //       RequestType: 25,\n      //       RequestId: socket.makeId(),\n      //       Direction: true,\n      //       Type: 0\n      //     }\n\n      //     socket.send(messagesRequest)\n      //   }\n      // }\n    }\n  }, [props.dialog])\n\n  useEffect(() => {\n    if (dialog) {\n      const mess = props.messages.filter(\n        message => message.ConversationId === parseInt(dialog.ConversationId || dialog.ChannelId)\n      )\n      setMessages(mess)\n\n      setTimeout(() => {\n        if (mesViewport.current) {\n          mesViewport.current.scrollTop = 450000\n        }\n      }, 10)\n\n      getUsers(mess)\n    }\n  }, [dialog, props.messages])\n\n  const joinToChannel = () => {\n    const data = {\n      ChannelsId: [dialog.ChannelId],\n      UsersId: [props.user.Id],\n      RequestType: 48,\n      RequestId: socket.makeId(),\n      Type: 0\n    }\n\n    socket.send(data)\n  }\n\n  const fileOver = e => {\n    e.preventDefault()\n    mesViewport.current.classList.add('file-over')\n  }\n\n  const fileLeave = e => {\n    e.preventDefault()\n    mesViewport.current.classList.remove('file-over')\n  }\n\n  const fileDrop = (e) => {\n    e.preventDefault()\n    mesViewport.current.classList.remove('file-over')\n\n    const isJpgOrPng = e.dataTransfer.files[0].type === \"image/jpeg\" || e.dataTransfer.files[0].type === \"image/png\"\n    let attachmentType = null\n    if (isJpgOrPng) {\n      attachmentType = 2\n    } else {\n      attachmentType = 1\n    }\n\n    const fileAccessToken = localStorage.getItem('FileAccessToken')\n    axios.defaults.headers['FileAccessToken'] = fileAccessToken\n\n    const formData = new FormData()\n    formData.append('file', e.dataTransfer.files[0])\n\n    axios.post(`https://${props.node}:5000/api/Files`, formData)\n    .then(\n        (res) => {\n          if (res.status === 200) {\n            // setImgLoading(false)\n            const data = {\n              Messages: [\n                {\n                  Id: 0,\n                  SendingTime: \"\",\n                  SenderId: props.user.Id,\n                  ReceiverId: dialog.SecondUid,\n                  ConversationId: dialog.ConversationId,\n                  ConversationType: dialog.ConversationType,\n                  Read: false,\n                  NodesId: null,\n                  ReplyTo: null,\n                  Text: \"\",\n                  Attachments: [\n                    {\n                      Type: attachmentType,\n                      Hash: null,\n                      MessageId: 0,\n                      Payload: res.data.File.FileId,\n                      NodesId: null\n                    }\n                  ],\n                  GlobalId: null\n                }\n              ],\n              RequestType: 39,\n              RequestId: socket.makeId(),\n              Type: 0\n            }\n      \n            socket.send(data)\n          }\n        }\n    )\n    .catch(\n        (err) => {\n          console.log(err)\n        }\n    )\n  }\n\n  return (\n    <div className=\"dialog\">\n      <div \n        className=\"dialog__messages-viewport\"\n        ref={mesViewport}\n        onDragOver={(e) => fileOver(e)}\n        onDragLeave={() => fileLeave(e)}\n        onDrop={(e) => fileDrop(e)}>\n      >\n        <div className=\"dialog__messages\">\n          {dialog\n            ? messages.map(message => {\n                return <Message key={message.GlobalId} message={message} />\n              })\n            : null}\n        </div>\n      </div>\n      {props.forwardMessage ? (\n        <div className=\"reply-message\">\n           :\n          {` ${props.forwardMessage.Text}`}\n        </div>\n      ) : null}\n      {\n        props.dialog ? \n          props.dialog.type === \"channel\" && props.dialog.fake ? \n            <Button type=\"primary\" size='large' onClick={joinToChannel}></Button> \n          : props.dialog.ConversationType !== 3 ?\n            <NewMessageField {...props} dialog={dialog} />\n          : null\n        : null\n      }\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    messages: state.messages,\n    forwardMessage: state.forwardMessage,\n    users: state.users,\n    user: state.users.find(user => user.currentUser === true),\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openDialog: dialogId => dispatch(openDialog(dialogId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dialog)\n","import React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport socket from \"../transport/Connect\"\nimport HeadDialog from \"./HeadDialog\"\nimport Dialog from \"./Dialog\"\nimport selectors from \"../selectors\"\nimport { openDialog } from \"../actions/dialogs\"\n\nfunction DialogContainer(props) {\n  // const [messages, setMessages] = useState([]);\n  const [dialog, setDialog] = useState(null)\n\n  useEffect(() => {\n    props.dialogs.forEach(dialog => {\n      if (dialog.active) {\n        setDialog(dialog)\n      }\n    })\n  }, [props.dialogs])\n\n  useEffect(() => {\n    // if (props.messages) {\n    //    props.messages.map(message => {\n    //       if (message.ConversationId === dialogId) {\n    //          // console.log(messages);\n    //          let mess = messages;\n    //          mess.push(message);\n    //          // console.log(mess);\n    //          setMessages(messages.push(message));\n    //       }\n    //    });\n    // }\n  }, [props.messages])\n\n  useEffect(() => {\n    if (dialog) {\n      // console.log(dialog)\n      // console.log(dialog.messagesRecieved)\n\n      //        ,  \n      if (!dialog.messagesRecieved) {\n        //    \n        const data = {\n          ConversationType: dialog.type === \"channel\" ? 3 : dialog.ConversationType,\n          ConversationId: dialog.ConversationId ? dialog.ConversationId : dialog.ChannelId,\n          NavigationMessageTime: null,\n          MessageId: null,\n          RequestType: 25,\n          RequestId: socket.makeId(),\n          Type: 0\n        }\n\n        socket.send(data)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dialog])\n\n  return (\n    <div className=\"dialog-container\">\n      <HeadDialog {...props} />\n      {selectors.getActiveDialog(props.dialogs) ? <Dialog dialog={dialog} {...props} /> : null}\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dialogs: state.dialogs,\n    messages: state.messages\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openDialog: dialogId => dispatch(openDialog(dialogId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DialogContainer)\n","/* eslint-disable */\nimport React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { NavLink } from \"react-router-dom\"\nimport { Modal } from \"antd\"\nimport { openProfile } from \"../actions/ui\"\nimport { openDialog } from \"../actions/dialogs\"\nimport socket from \"../transport/Connect\"\nimport selectors from \"../selectors\"\n\nfunction ProfileModal(props) {\n  const [visible, setVisible] = useState(false)\n  const [profile, setProfile] = useState(null)\n  const [prevProfile, setPrevProfile] = useState(null)\n\n  useEffect(() => {\n    if(props.profile) {\n      if(props.profile.ConversationType === 1){\n        const user = selectors.getUserById(props.profile.SecondUid, props.users)\n        if (user) {\n          setProfile(user)\n          setVisible(true)\n        }\n      } else if (props.profile.NameFirst) {\n        setProfile(props.profile)\n        setVisible(true)\n      } else if (props.profile.Users) {\n        setProfile(props.profile)\n        setVisible(true)\n      } else if (props.profile.ConversationType === 2){\n        const getChatInfo = {\n          RequestType: 45,\n          ChatsId: [props.profile.ConversationId],\n          RequestId: socket.makeId(),\n          Type: 0\n        }\n    \n        socket.send(getChatInfo)\n      }\n    }\n  }, [props.profile])\n\n  useEffect(() => {\n    if (props.chats.length) {\n      setProfile(props.chats[0])\n      setVisible(true)\n\n      //       \n      const undefinedUsers = []\n      props.chats[0].Users.map(user => {\n        const foundUser = selectors.getUserById(user.UserId, props.users)\n        if(!foundUser){\n          undefinedUsers.push(user.UserId)\n        }\n      })\n      if(undefinedUsers.length){\n        const requestUsers = {\n          UsersId: [...undefinedUsers],\n          RequestType: 28,\n          RequestId: socket.makeId(),\n          Type: 0\n        }\n\n        socket.send(requestUsers)\n      }\n    }\n  }, [props.chats])\n\n  const openProfile = data => {\n    setPrevProfile(profile)\n    props.openProfile(data)\n  }\n\n  const showUsers = () => {\n    return props.chats[0].Users.map(user => {\n      const foundUser = selectors.getUserById(user.UserId, props.users)\n      if(foundUser){\n        let name = null\n        if (foundUser.NameFirst) {\n          name = foundUser.NameFirst\n        }\n        if (foundUser.NameSecond) {\n          name = name + ' ' + foundUser.NameSecond\n        }\n        return (\n          <div key={foundUser.Id} className='profile__info_user' onClick={() => {openProfile(foundUser)}}>\n            {\n              foundUser.Photo ? \n                <div\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center center\",\n                    backgroundImage: `url(https://${props.node}:5000/api/Files/${foundUser.Photo})`,\n                    backgroundRepeat: \"no-repeat\",\n                    borderRadius: 100,\n                    margin: '0 auto',\n                    marginTop: \"10px\"\n                  }}\n                ></div>\n              : \n              <div className='profile__info_ava'>{selectors.getUserInitials(foundUser)}</div> \n            }\n            {name ? name : ' '}\n          </div>\n        )\n      }\n    })\n  }\n\n  const handleCancelProfile = () => {\n    setVisible(false)\n    props.openProfile(null)\n  }\n\n  const handleOpenDialog = () => {\n    let payload = {}\n    payload.data = props.profile\n    if (props.profile.type === \"dialog\") {\n      payload.type = \"dialog\"\n    } else {\n      payload.type = \"user\"\n    }\n    props.openDialog(payload)\n    handleCancelProfile()\n  }\n\n  const handleBackProfile = () => {\n    props.openProfile(prevProfile)\n    setPrevProfile(null)\n  }\n\n  return (\n    <Modal\n      visible={visible}\n      onCancel={handleCancelProfile}\n      footer={null}\n      maskClosable\n    >\n      {\n        profile ? \n          <div className='profile'>\n            {\n              prevProfile ? <div onClick={handleBackProfile}></div> : null\n            }\n            {\n              profile.Photo ? \n                <div\n                  className='profile__ava'\n                  style={{\n                    width: \"100px\",\n                    height: \"100px\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center center\",\n                    backgroundImage: `url(https://${props.node}:5000/api/Files/${profile.Photo})`,\n                    backgroundRepeat: \"no-repeat\",\n                    borderRadius: 100,\n                    margin: '0 auto'\n                  }}\n                ></div>\n              : null \n            }\n            {\n              profile.Name ?\n                <div className='profile__name'>{profile.Name}</div>\n              :\n                <div className='profile__name'>\n                  {profile.NameFirst ? profile.NameFirst  : null}\n                  {' '}\n                  {profile.NameSecond ? profile.NameSecond : null}\n                </div>\n            }\n            {\n              profile.Phones ? \n                profile.Phones.length > 0 ?\n                  <div className='profile__info'>\n                    <div className='profile__info_name'></div>\n                    <div className='profile__info_value'>{profile.Phones[0].FullNumber}</div>\n                  </div>\n                : null\n              : null\n            }\n            {\n              profile.Emails ? \n                <div className='profile__info'>\n                  <div className='profile__info_name'>Email</div>\n                  <div className='profile__info_value'><a href={`mailto:${profile.Emails[0]}`}>{profile.Emails[0]}</a></div>\n                </div>\n              : null\n            }\n            {\n              profile.About ? \n                <div className='profile__info'>\n                  <div className='profile__info_name'> </div>\n                  <div className='profile__info_value'>{profile.About}</div>\n                </div>\n              : null\n            }\n            {\n              profile.Users ? \n                <div className='profile__info'>\n                  <div className='profile__info_name'></div>\n                  <div className='profile__info_users'>{showUsers()}</div>\n                </div>\n              : null\n            }\n            {\n              props.profile ? \n                <NavLink\n                  to={\"/\"}\n                  onClick={handleOpenDialog}\n                >\n                  <div className='profile__open_chat'> </div>\n                </NavLink>\n              : null\n            }\n          </div>\n        : null\n      }\n      \n    </Modal>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    profile: state.ui.profile,\n    users: state.users,\n    chats: state.chats,\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openProfile: user => dispatch(openProfile(user)),\n    openDialog: dialogId => dispatch(openDialog(dialogId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileModal)\n","import Connect from \"./Connect\"\n\n/* eslint-disable */\nclass Request {\n  constructor() {}\n\n  //  \n  getDialogs() {\n    const getDialogs = {\n      NavigationMessageTime: null,\n      RequestId: Connect.makeId(),\n      RequestType: 12,\n      Type: 0\n    }\n\n    Connect.send(getDialogs)\n  }\n\n  //   \n  getUserContacts() {\n    const getUserContacts = {\n      RequestId: Connect.makeId(),\n      RequestType: 64,\n      Type: 0\n    }\n\n    Connect.send(getUserContacts)\n  }\n\n  //  \n  getUsers(usersIds) {\n    const getUsers = {\n      RequestId: Connect.makeId(),\n      RequestType: 28,\n      Type: 0,\n      UsersId: usersIds\n    }\n\n    Connect.send(getUsers)\n  }\n\n  //  \n  getUsers(usersIds) {\n    const getUsers = {\n      RequestId: Connect.makeId(),\n      RequestType: 28,\n      Type: 0,\n      UsersId: usersIds\n    }\n\n    Connect.send(getUsers)\n  }\n\n  //   \n  getUserGroups() {\n    const data = {\n      RequestId: Connect.makeId(),\n      RequestType: 61,\n      Type: 0,\n    }\n\n    Connect.send(data)\n  }\n\n  //    \n  getGroupContacts(groupId) {\n    const data = {\n      RequestId: Connect.makeId(),\n      RequestType: 60,\n      Type: 0,\n      GroupId: groupId\n    }\n\n    Connect.send(data)\n  }\n\n  //    \n  editUser(data) {\n    const requestdData = {\n      User: {\n        NameFirst: data.NameFirst,\n        NameSecond: data.NameSecond,\n        About: data.About,\n        Photo: data.Photo,\n        Country: null,\n        Language: null,\n        Visible: null,\n        Security: null,\n        Phones: null,\n        Emails: null\n      },\n      RequestId: Connect.makeId(),\n      RequestType: 10,\n      Type: 0\n    }\n\n    Connect.send(requestdData)\n  }\n\n  //  \n  createChat(data) {\n    const requestdData = {\n      Chats: [\n        {\n          Id: 0,\n          Name: \"NEW CHAT\",\n          Tag: 0,\n          Photo: null,\n          About: \"about chat\",\n          NodesId: null,\n          Visible: null,\n          Public: null,\n          Security: null,\n          Type: 1,\n          Users: [\n            {\n              ChatId: 0,\n              UserId: 1,\n              Deleted: false,\n              Banned: false,\n              UserRole: 0,\n              UserInfo: null\n            },\n            {\n              ChatId: 0,\n              UserId: 2,\n              Deleted: false,\n              Banned: false,\n              UserRole: 0,\n              UserInfo: null\n            }\n          ]\n        }\n      ],\n      RequestId: 3387209483927527400,\n      RequestType: 36,\n      Type: 0\n    }\n\n    Connect.send(requestdData)\n  }\n}\n\nconst request = new Request()\n\nexport default request\n","/* eslint-disable */\nimport React, {useState, useEffect} from \"react\"\nimport { connect } from \"react-redux\"\nimport { Modal, Form, Input, Switch, Divider, Upload, Icon, message, Button } from \"antd\"\nimport { toggleModal } from \"../actions/ui\"\nimport Request from \"../transport/Request\"\nimport axios from 'axios'\n\nfunction CreateChatModal(props) {\n  const [chatName, setChatName] = useState(null)\n  const [nameError, setNameError] = useState(false)\n  const [chatPrivate, setChatPrivate] = useState(false)\n  const [chatChannel, setChatChannel] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [imageUrl, setImageUrl] = useState(null)\n\n  const handleSetChatName = value => {\n    setChatName(value)\n    setNameError(false)\n    if (value.length < 1) {\n      setNameError(true)\n    }\n  }\n\n  const handleCreateChat = () => {\n    if (!chatName) {\n      setNameError(true)\n    } else {\n      // console.log('i am OK, i am not alcoholic')\n    }\n  }\n\n  const addUsers = () => {\n    Request.getUserContacts()\n  }\n\n  const handleUploadImage = data => {\n    const fileAccessToken = localStorage.getItem('FileAccessToken')\n    axios.defaults.headers['FileAccessToken'] = fileAccessToken\n\n    const formData = new FormData()\n    formData.append('file', data.file)\n  \n    axios.post(`https://${props.node}:5000/api/Files`, formData)\n    .then(\n        (res) => {\n          if (res.status === 200) {\n            setLoading(false)\n            setImageUrl(res.data.File.FileId)\n          }\n        }\n    )\n    .catch(\n        (err) => {\n          console.log(err)\n        }\n    )\n  }\n\n  const beforeUpload = file => {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png'\n    if (!isJpgOrPng) {\n      message.error('   JPG/PNG !')\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2\n    if (!isLt2M) {\n      message.error('     2!')\n    }\n    return isJpgOrPng && isLt2M\n  }\n\n  const handleChange = info => {\n    if (info.file.status === 'uploading') {\n      setLoading(true)\n      return\n    }\n  }\n\n  return (\n    <Modal\n      visible={props.createChatModal}\n      // visible={true}\n      onCancel={() => props.toggleModal(\"createChatModal\")}\n      title=\"  \"\n      footer={null}\n      maskClosable\n    >\n      <Upload\n        listType=\"picture-card\"\n        className=\"avatar-uploader\"\n        showUploadList={false}\n        customRequest={file => handleUploadImage(file)}\n        beforeUpload={beforeUpload}\n        onChange={handleChange}\n      >\n        {\n          loading ? \n          <Icon type=\"loading\" className=\"loading-icon\" />\n        : imageUrl ?\n            <img src={`https://${props.node}:5000/api/Files/${imageUrl}`} alt=\"avatar\" style={{ width: '100%' }} />\n          :\n            <>\n              <p className=\"ant-upload-drag-icon\">\n                <Icon type=\"inbox\" style={{fontSize: \"40px\", color: \"#1890ff\", marginTop: \"15px\"}} />\n              </p>\n              <p className=\"ant-upload-text\"> <br/> </p>\n            </>\n        }\n      </Upload>\n      <Divider />\n      <Form.Item\n        validateStatus={nameError ? \"error\" : ''}\n        help={nameError ? \"    \" : false}\n      >\n        <Input \n          placeholder=\" \"\n          onChange={(e) => handleSetChatName(e.target.value)}\n        />\n      </Form.Item>\n      <Divider />\n      <div className='switch-label'>\n        <div> </div>\n        <Switch checked={chatPrivate} onChange={(value) => setChatPrivate(value)} />\n      </div>\n      <Divider />\n      <div className='switch-label'>\n        <div> </div>\n        <Switch checked={chatChannel} onChange={(value) => setChatChannel(value)} />\n      </div>\n      <Divider />\n      <Button type=\"normal\" block icon=\"usergroup-add\" onClick={() => addUsers()}> </Button>\n      <Divider />\n      <Button type=\"primary\" block onClick={() => handleCreateChat()}></Button>\n    </Modal>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    createChatModal: state.ui.modals.createChatModal,\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleModal: name => dispatch(toggleModal(name))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateChatModal)\n","/* eslint-disable */\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport selectors from \"../selectors\"\n\nfunction Avatar(props) {\n  const avatarStyle = {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center center\",\n    backgroundImage: `url(https://${props.node}:5000/api/Files/${props.user.Photo})`,\n    backgroundRepeat: \"no-repeat\",\n    borderRadius: \"100%\"\n  }\n\n  return (\n    <div className=\"avatar\">\n      {\n        props.user.Photo ? \n          <div style={avatarStyle}></div>\n        :\n          <div className=\"avatar-default\">\n            {selectors.getUserInitials(props.user)}\n          </div>\n      }\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Avatar)\n","import React, {useState, useEffect} from \"react\"\nimport { connect } from \"react-redux\"\nimport { Modal, Tabs } from \"antd\"\nimport { toggleModal } from \"../actions/ui\"\nimport Request from \"../transport/Request\"\nimport Avatar from \"./Avatar\"\nimport { openDialog } from \"../actions/dialogs\"\n\nfunction ContactsModal(props) {\n  const [contacts, setContacts] = useState([])\n\n  const { TabPane } = Tabs\n\n  useEffect(() => {\n    Request.getUserContacts()\n    Request.getUserGroups()\n  }, [])\n\n  useEffect(() => {\n    const contactsTmp = []\n    props.users.forEach(user => {\n      if (props.contactsIDs.find(id => user.Id === id)) {\n        contactsTmp.push(user)\n      }\n    })\n    setContacts(contactsTmp)\n  }, [props.users, props.contactsIDs])\n\n  const handleOpenChat = user => {\n    let payload = {}\n    payload.data = user\n    payload.type = \"user\"\n    props.openDialog(payload)\n    props.toggleModal(\"close\")\n  }\n\n  const changeGroup = groupId => {\n    if (groupId === \"all\") {\n      Request.getUserContacts()\n    } else {\n      Request.getGroupContacts(groupId)\n    }\n  }\n\n  const showContacts = () => {\n    return contacts.map(contact => {\n      return (\n        <div className=\"contact\" key={contact.Id} onClick={() => handleOpenChat(contact)}>\n          <Avatar user={contact} />\n          <div className=\"name\">\n            {`${contact.NameFirst} ${contact.NameSecond}`}\n          </div>\n        </div>\n      )\n    })\n  }\n\n  const showGroups = () => {\n    return props.groups.map(group => {\n      return (\n        <TabPane tab={group.Title} key={group.GroupId}>\n          {showContacts()}\n        </TabPane>\n      )\n    })\n  }\n\n  return (\n    <Modal\n      visible={props.contactsModal}\n      onCancel={() => props.toggleModal(\"contactsModal\")}\n      title=\"\"\n      footer={null}\n      maskClosable\n      className=\"contacts\"\n    >\n      <Tabs defaultActiveKey=\"1\" onChange={changeGroup}>\n        <TabPane tab=\"\" key=\"all\">\n          {showContacts()}\n        </TabPane>\n        {showGroups()}\n      </Tabs>\n    </Modal>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    contactsModal: state.ui.modals.contactsModal,\n    users: state.users,\n    contactsIDs: state.contacts.usersIDs,\n    groups: state.contacts.groups\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleModal: name => dispatch(toggleModal(name)),\n    openDialog: data => dispatch(openDialog(data))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactsModal)\n","/* eslint-disable */\nimport React, {useState, useEffect} from \"react\"\nimport { connect } from \"react-redux\"\nimport { Modal, Button, Input, Divider } from \"antd\"\nimport { toggleModal } from \"../actions/ui\"\nimport Request from \"../transport/Request\"\n\nfunction ContactsGroupsModal(props) {\n  const [groupOpen, setGroupOpen] = useState(false)\n  const [creatingGroup, setCreatingGroup] = useState(false)\n  const [usersListVisible, setUsersListVisible] = useState(false)\n\n  const showGroups = () => {\n    return props.groups.map(group => {\n      return (\n        <div className=\"contact\" key={group.GroupId} onClick={() => openGroup(group.GroupId)}>\n          <div className=\"name\">{group.Title}</div>\n        </div>\n      )\n    })\n  }\n\n  const openGroup = groupId => {\n    const openedGroup = props.groups.find(group => group.GroupId === groupId)\n    if (openedGroup) {\n      setGroupOpen(openedGroup)\n    }\n  }\n\n  const createGroup = () => {\n\n  }\n\n  return (\n    <Modal\n      visible={props.contactsGroupsModal}\n      // visible={true}\n      onCancel={() => props.toggleModal(\"contactsGroupsModal\")}\n      title=\" \"\n      footer={null}\n      maskClosable\n      className=\"contacts\"\n    >\n      {\n        creatingGroup ?\n          <div className=\"content\">\n            <Input placeholder=\" \" />\n            <Divider />\n            <div></div>\n            <Button type=\"normal\" block icon=\"usergroup-add\" onClick={() => setUsersListVisible(true)}> </Button>\n            <Divider />\n            <Button type=\"primary\" block onClick={() => createGroup()}> </Button>\n          </div>\n        : groupOpen ?\n          <div className=\"content\">\n            <Input defaultValue={groupOpen.Title} />\n            <Divider />\n            :\n          </div>\n        :\n          <>\n            {showGroups()}\n            <div className=\"content\">\n              <Button type=\"primary\" block onClick={() => setCreatingGroup(true)}> </Button>\n            </div>\n          </>\n      }\n    </Modal>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    contactsGroupsModal: state.ui.modals.contactsGroupsModal,\n    users: state.users,\n    contactsIDs: state.contacts.usersIDs,\n    groups: state.contacts.groups\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleModal: name => dispatch(toggleModal(name))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactsGroupsModal)","/* eslint-disable */\nimport React, {useState, useEffect} from \"react\"\nimport { connect } from \"react-redux\"\nimport { Modal, Button, Input, Divider, Upload, Icon, message } from \"antd\"\nimport { toggleModal } from \"../actions/ui\"\nimport Request from \"../transport/Request\"\nimport Avatar from \"./Avatar\"\nimport axios from 'axios'\n\nfunction SettingsModal(props) {\n  const [loading, setLoading] = useState(false)\n  const [imageUrl, setImageUrl] = useState(false)\n  const [name, setName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [about, setAbout] = useState('')\n\n  useEffect(() => {\n    if (props.user) {\n      setName(props.user.NameFirst)\n      setLastName(props.user.NameSecond)\n      setAbout(props.user.About)\n    }\n  }, [props.user])\n\n  // const getBase64 = (img, callback) => {\n  //   const reader = new FileReader()\n  //   reader.addEventListener('load', () => callback(reader.result))\n  //   reader.readAsDataURL(img)\n  // }\n  \n  const beforeUpload = file => {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png'\n    if (!isJpgOrPng) {\n      message.error('   JPG/PNG !')\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2\n    if (!isLt2M) {\n      message.error('     2!')\n    }\n    return isJpgOrPng && isLt2M\n  }\n\n  const handleChange = info => {\n    if (info.file.status === 'uploading') {\n      setLoading(true)\n      return\n    }\n  }\n\n  const uploadButton = (\n    <div>\n      <Icon type={loading ? 'loading' : 'plus'} />\n      <div className=\"ant-upload-text\">Upload</div>\n    </div>\n  )\n\n  const handleUploadImage = data => {\n    const fileAccessToken = localStorage.getItem('FileAccessToken')\n    axios.defaults.headers['FileAccessToken'] = fileAccessToken\n\n    const formData = new FormData()\n    formData.append('file', data.file)\n  \n    axios.post(`https://${props.node}:5000/api/Files`, formData)\n    .then(\n        (res) => {\n          if (res.status === 200) {\n            setLoading(false)\n            setImageUrl(res.data.File.FileId)\n          }\n        }\n    )\n    .catch(\n        (err) => {\n          console.log(err)\n        }\n    )\n  }\n\n  const handleUpdateUser = () => {\n    const userData = {\n      NameFirst: name,\n      NameSecond: lastName,\n      About: about,\n      Photo: imageUrl\n    }\n\n    Request.editUser(userData)\n  }\n\n  return (\n    <Modal\n      visible={props.settingsModal}\n      // visible={true}\n      onCancel={() => props.toggleModal(\"settingsModal\")}\n      title=\" \"\n      footer={null}\n      maskClosable\n      className=\"contacts\"\n    >\n      {\n        props.user ?\n          <div className=\"content settings\">\n            <Upload\n              listType=\"picture-card\"\n              className=\"avatar-uploader\"\n              showUploadList={false}\n              customRequest={file => handleUploadImage(file)}\n              beforeUpload={beforeUpload}\n              onChange={handleChange}\n            >\n              {\n                loading ? \n                  <Icon type=\"loading\" className=\"loading-icon\" />\n                : null\n              }\n              {\n                imageUrl ?\n                  <img src={`https://${props.node}:5000/api/Files/${imageUrl}`} alt=\"avatar\" style={{ width: '100%' }} />\n                : props.user.Photo ?\n                  <Avatar user={props.user} />\n                : uploadButton\n              }\n            </Upload>\n            <Divider />\n            <Input value={lastName} onChange={e => setLastName(e.target.value)} placeholder=\"\" />\n            <Divider />\n            <Input value={name} onChange={e => setName(e.target.value)} placeholder=\"\" />\n            <Divider />\n            <Input value={about} onChange={e => setAbout(e.target.value)} placeholder=\" \" />\n            <Divider />\n            <Input addonBefore=\"+7\" defaultValue={props.user.Phones[0].SubscriberNumber} placeholder=\"\" disabled />\n            <Divider />\n            <Input defaultValue={props.user.Emails[0]} placeholder=\"Email\" disabled />\n            <Divider />\n            <Button type=\"primary\" block onClick={() => handleUpdateUser()}></Button>\n          </div>\n        : null\n      }        \n    </Modal>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    settingsModal: state.ui.modals.settingsModal,\n    user: state.users.find(user => user.currentUser === true),\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleModal: name => dispatch(toggleModal(name))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsModal)","/* eslint-disable */\nimport React, { useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport Sidebar from \"./Sidebar\"\nimport selectors from \"../selectors\"\nimport DialogContainer from \"./DialogContainer\"\nimport ProfileModal from \"./ProfileModal\"\nimport CreateChatModal from \"./CreateChatModal\"\nimport ContactsModal from \"./ContactsModal\"\nimport ContactsGroupsModal from \"./ContactsGroupsModal\"\nimport { toggleDrawer, toggleModal } from \"../actions/ui\"\nimport { Drawer } from 'antd';\nimport SettingsModal from \"./SettingsModal\"\n\nfunction MainContainer(props) {\n  const [windowWidth, setWindowWidth] = useState(document.body.clientWidth)\n\n  window.addEventListener(\"resize\", () => {\n    setWindowWidth(document.body.clientWidth)\n  }, false)\n\n  return (\n    <Router>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Drawer\n            visible={props.ui.showDrawer}\n            // visible={true}\n            placement='left'\n            closable={true}\n            onClose={() => props.toggleDrawer()}\n            width='366'\n          >\n            {\n              props.user ? (\n                <div className=\"drawer-user\">\n                  <div className=\"drawer-user__ava\">\n                    { props.user.Photo ? (\n                      <div\n                        style={{\n                          width: \"100%\",\n                          height: \"100%\",\n                          backgroundSize: \"cover\",\n                          backgroundPosition: \"center center\",\n                          backgroundImage: `url(https://${props.node}:5000/api/Files/${props.user.Photo})`,\n                          backgroundRepeat: \"no-repeat\"\n                        }}\n                      />\n                    ) : (\n                      <div className=\"drawer-user__photo-default avatar-default\">{defaultAva}</div>\n                    )}\n                  </div>\n                  <div className=\"drawer-user__name\">\n                    {props.user.NameFirst + ' ' + props.user.NameSecond}\n                  </div>\n                </div>\n              ) : null\n            }\n            <ul className=\"menu\">\n              <li onClick={() => props.toggleModal(\"createChatModal\")}>  </li>\n              <li onClick={() => props.toggleModal(\"contactsModal\")}></li>\n              <li onClick={() => props.toggleModal(\"contactsGroupsModal\")}> </li>\n              <li onClick={() => props.toggleModal(\"settingsModal\")}></li>\n            </ul>\n          </Drawer>\n          {windowWidth > 675 ? (\n            <>\n              <Sidebar {...props} />\n              <DialogContainer />\n            </>\n          ) : (\n            !selectors.getActiveDialog(props.dialogs) ? <Sidebar {...props} /> : <DialogContainer />\n          )}\n        </div>\n      </div>\n      <ProfileModal />\n      <CreateChatModal />\n      <ContactsModal />\n      <ContactsGroupsModal />\n      <SettingsModal />\n    </Router>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dialogs: state.dialogs,\n    ui: state.ui,\n    user: state.users.find(user => user.currentUser === true),\n    node: state.node.Domains[0]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleDrawer: () => dispatch(toggleDrawer()),\n    toggleModal: name => dispatch(toggleModal(name))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainContainer)\n","export function setAuth(auth) {\n  return {\n    type: \"SET_AUTH\",\n    auth\n  }\n}\n","/* eslint-disable */\nimport {useEffect} from \"react\"\nimport { connect } from \"react-redux\"\nimport Connect from \"./Connect\"\nimport Request from \"./Request\"\nimport {\n  dialogsReceived,\n  chatsReceived,\n  messagesReceived,\n  openDialog,\n  readMessages,\n} from \"../actions/dialogs\"\nimport { searchResultReceived } from \"../actions/search\"\nimport { setContactUsersIDs, userGroupsReceived } from \"../actions/contacts\"\nimport selectors from \"../selectors\"\nimport { userReceived, chatsUsersReceived } from \"../actions/user\"\nimport { setAuth } from \"../actions/auth\"\n\nfunction Socket(props) {\n  useEffect(() => {\n    Connect.onMessage = data => {\n      //         \n      if (data.ResponseType === 6) {\n        //     \n        const getSelf = {\n          RequestId: Connect.makeId(),\n          RequestType: 27,\n          Type: 0\n        }\n\n        Connect.send(getSelf)\n\n        localStorage.setItem(\"FileAccessToken\", data.FileAccessToken)\n        localStorage.setItem(\"AccessToken\", data.Token.AccessToken)\n        localStorage.setItem(\"RefreshToken\", data.Token.RefreshToken)\n\n        props.setAuth(\"AUTH_SUCCESS\")\n      }\n      //      \n      else if (data.ResponseType === 12) {\n        const user = selectors.getFormatedUser([data.User])\n        user[0].currentUser = true\n        props.userReceived(user)\n      }\n      //     \n      else if (data.ResponseType === 15) {\n        props.dialogsReceived(selectors.getFormatedDialogs(data.Conversations))\n      }\n      //     \n      else if (data.ResponseType === 9) {\n        props.messagesReceived(selectors.getFormatedMessages(data.Messages))\n        Request.getDialogs()\n      }\n      //  \n      else if (data.Message) {\n        props.messagesReceived(selectors.getFormatedMessages([data.Message]))\n        Request.getDialogs()\n      }\n      //   \n      else if (data.Type === 2 && data.Code === 5) {\n        props.readMessages(data.MessagesId)\n      }\n      //    \n      else if (data.ResponseType === 0) {\n        props.userReceived(selectors.getFormatedUser(data.Users))\n      }\n      //    \n      else if (data.ResponseType === 2) {\n        const chats = selectors.getFormatedChats(data.Chats)\n\n        //     \n        chats.forEach(chat => {\n          const getChatsUsers = {\n            ChatId: chat.Id,\n            NavigationUserId: null,\n            RequestId: Connect.makeId(),\n            RequestType: 17,\n            Type: 0\n          }\n\n          Connect.send(getChatsUsers)\n        })\n\n        props.chatsReceived(selectors.getFormatedChats(data.Chats))\n      }\n      //      \n      //       ,        \n      else if (data.ResponseType === 16) {\n        props.chatsUsersReceived(selectors.getFormatedChatsUsers(data.ChatUsers))\n      }\n      //     \n      else if (data.ResponseType === 21) {\n        Request.getDialogs()\n      }\n      //    \n      else if (data.ResponseType === 23) {\n        const searchResult = {}\n        if (data.Users.length > 0) {\n          searchResult.users = data.Users\n        }\n        if (data.Chats.length > 0) {\n          searchResult.chats = data.Chats\n        }\n        if (data.Channels.length > 0) {\n          searchResult.channels = data.Channels\n        }\n        props.searchResultReceived(searchResult)\n      }\n      //     \n      else if (data.ResponseType === 27) {\n        let userIDs = data.Contacts.map(user => {\n          return user.ContactUserId\n        })\n\n        props.setContactUsersIDs(userIDs)\n\n        if (userIDs.length > 0) {\n          Request.getUsers(userIDs)\n        }\n      }\n      //     \n      else if (data.ResponseType === 26) {\n        props.userGroupsReceived(data.Groups)\n      }\n    }\n  }, [])\n\n  return null\n}\n\nfunction mapStateToProps(state) {\n  return {\n    users: state.users\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dialogsReceived: dialogs => dispatch(dialogsReceived(dialogs)),\n    chatsReceived: chats => dispatch(chatsReceived(chats)),\n    chatsUsersReceived: chatsUsers => dispatch(chatsUsersReceived(chatsUsers)),\n    openDialog: dialogId => dispatch(openDialog(dialogId)),\n    userReceived: user => dispatch(userReceived(user)),\n    messagesReceived: messages => dispatch(messagesReceived(messages)),\n    readMessages: data => dispatch(readMessages(data)),\n    setAuth: auth => dispatch(setAuth(auth)),\n    searchResultReceived: data => dispatch(searchResultReceived(data)),\n    setContactUsersIDs: usersIDs => dispatch(setContactUsersIDs(usersIDs)),\n    userGroupsReceived: groups => dispatch(userGroupsReceived(groups))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Socket)\n","export function setContactUsersIDs(usersIDs) {\n  return {\n    type: \"SET_CONTACT_USERS_IDS\",\n    usersIDs\n  }\n}\n\nexport function userGroupsReceived(groups) {\n  return {\n    type: \"USER_GROUPS_RECEIVED\",\n    groups\n  }\n}\n","import React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\"\nimport { Spin } from \"antd\"\nimport {\n  dialogsReceived,\n  messagesReceived,\n  openDialog\n} from \"./actions/dialogs\"\nimport { userReceived } from \"./actions/user\"\nimport Auth from \"./components/Auth\"\nimport Registration from \"./components/Registration\"\nimport Verify from \"./components/Verify\"\nimport MainContainer from \"./components/MainContainer\"\nimport socket from \"./transport/Connect\"\nimport Connect from \"./transport/Socket\"\nimport { setAuth } from \"./actions/auth\"\nimport { setNode } from \"./actions/node\"\n\nfunction App(props) {\n  useEffect(() => {\n    if (props.auth === \"AUTH_SUCCESS\") {\n      //  \n      const getDialogs = {\n        NavigationMessageTime: null,\n        RequestId: socket.makeId(),\n        RequestType: 12,\n        Type: 0\n      }\n\n      socket.send(getDialogs)\n    }\n  }, [props.auth])\n\n  useEffect(() => {\n    const node = JSON.parse(localStorage.getItem(\"node\"))\n    if (node) {\n      props.setNode(node)\n    }\n\n    socket.wsOnConnect = () => {\n      if (localStorage.getItem(\"AccessToken\")) {\n        let login\n        if (localStorage.getItem(\"User\")) {\n          login = {\n            Token: {\n              UserId: JSON.parse(localStorage.getItem(\"User\")).Id,\n              AccessToken: localStorage.getItem(\"AccessToken\"),\n              RefreshToken: localStorage.getItem(\"RefreshToken\")\n            },\n            LoginType: 0,\n            UidType: 1,\n            RequestId: socket.makeId(),\n            RequestType: 33,\n            Type: 0\n          }\n        } else if (localStorage.getItem(\"Phone\")) {\n          login = {\n            Uid: localStorage.getItem(\"Phone\"),\n            Token: {\n              AccessToken: localStorage.getItem(\"AccessToken\"),\n              RefreshToken: localStorage.getItem(\"RefreshToken\")\n            },\n            LoginType: 0,\n            UidType: 0,\n            RequestId: socket.makeId(),\n            RequestType: 33,\n            Type: 0\n          }\n        } else if (localStorage.getItem(\"Email\")) {\n          console.log(\" \")\n        }\n\n        socket.send(login)\n      } else {\n        props.setAuth(\"NO_AUTH\")\n      }\n    }\n  })\n\n  return (\n    <>\n      <Connect />\n      <Router>\n        <Route\n          path=\"/\"\n          render={\n            // eslint-disable-next-line no-nested-ternary\n            props.auth === \"CHECK_AUTH\"\n              ? () => (\n                  <div className=\"preloader\">\n                    <Spin size=\"large\" />\n                  </div>\n                )\n              : props.auth === \"AUTH_SUCCESS\"\n              ? () => (\n                  <>\n                    <Route path=\"/\" component={MainContainer} />\n                  </>\n                )\n              : () => <Redirect to=\"/auth\" />\n          }\n        />\n        <Route path=\"/auth/by-phone\" component={Verify} />\n        <Route path=\"/auth/by-email\" component={Verify} />\n        <Route exact path=\"/auth\" component={Auth} />\n        <Route exact path=\"/registration\" component={Registration} />\n      </Router>\n    </>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dialogs: state.dialogs,\n    users: state.users,\n    auth: state.auth\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dialogsReceived: dialogs => dispatch(dialogsReceived(dialogs)),\n    openDialog: dialogId => dispatch(openDialog(dialogId)),\n    userReceived: user => dispatch(userReceived(user)),\n    messagesReceived: messages => dispatch(messagesReceived(messages)),\n    setAuth: auth => dispatch(setAuth(auth)),\n    setNode: node => dispatch(setNode(node))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","/* eslint-disable */\nexport function setNode(node) {\n  return {\n    type: \"SET_NODE\",\n    node\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './css/style.css';\nimport './assets/fonts/fonts.css'\nimport 'antd/dist/antd.css';\nimport './css/style.scss';\nimport {Provider} from 'react-redux';\nimport configureStore from './store/configureStore';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nconst store = configureStore()\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers';\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        applyMiddleware(thunk)\n    );\n}\n"],"sourceRoot":""}